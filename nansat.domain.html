<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8">
    
    <title>nansat.domain module &mdash; Nansat 0.1 documentation</title>
    
    <link rel="stylesheet" type="text/css" href="_static/css/spc-bootstrap.css">
    <link rel="stylesheet" type="text/css" href="_static/css/spc-extend.css">
    <link rel="stylesheet" href="_static/scipy.css" type="text/css" >
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" >
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '0.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/js/copybutton.js"></script>
    <link rel="top" title="Nansat 0.1 documentation" href="index.html" > 
  </head>
  <body>

<div class="container">
  <div class="top-scipy-org-logo-header">
    <a href="index.html">
      <img style="border: 0;" alt="SciPy" src="_static/img/nansat_logo.gif"></a>
    </div>
  </div>
</div>


    <div class="container">
      <div class="main">
        
	<div class="row-fluid">
	  <div class="span12">
	    <div class="spc-navbar">
              
    <ul class="nav nav-pills pull-left">
	
        <li class="active"><a href="index.html">Nansat 0.1 documentation</a></li>
	 
    </ul>
              
              
    <ul class="nav nav-pills pull-right">
      <li class="active">
        <a href="genindex.html" title="General Index"
           accesskey="I">index</a>
      </li>
      <li class="active">
        <a href="py-modindex.html" title="Python Module Index"
           >modules</a>
      </li>
    </ul>
              
	    </div>
	  </div>
	</div>
        

	<div class="row-fluid">
          <div class="span9">
            
        <div class="bodywrapper">
          <div class="body" id="spc-section-body">
            
  <div class="section" id="module-nansat.domain">
<span id="nansat-domain-module"></span><h1>nansat.domain module<a class="headerlink" href="#module-nansat.domain" title="Permalink to this headline">¶</a></h1>
<dl class="class">
<dt id="nansat.domain.Domain">
<em class="property">class </em><tt class="descclassname">nansat.domain.</tt><tt class="descname">Domain</tt><big>(</big><em>srs=None</em>, <em>ext=None</em>, <em>ds=None</em>, <em>lon=None</em>, <em>lat=None</em>, <em>name=''</em>, <em>logLevel=None</em><big>)</big><a class="headerlink" href="#nansat.domain.Domain" title="Permalink to this definition">¶</a></dt>
<dd><p>Create Domain from GDALDataset or string options or lat/lon grids</p>
<p>Size, extent and spatial reference is given by strings</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">d</span> <span class="o">=</span> <span class="n">Domain</span><span class="p">(</span><span class="n">srs</span><span class="p">,</span> <span class="n">ext</span><span class="p">)</span>
</pre></div>
</div>
<p>Size, extent and spatial reference is copied from input
GDAL dataset</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">d</span> <span class="o">=</span> <span class="n">Domain</span><span class="p">(</span><span class="n">ds</span><span class="o">=</span><span class="n">GDALDataset</span><span class="p">)</span>
</pre></div>
</div>
<p>Spatial reference is given by srs, but size and extent is
determined from input GDAL dataset</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">d</span> <span class="o">=</span> <span class="n">Domain</span><span class="p">(</span><span class="n">srs</span><span class="p">,</span> <span class="n">ds</span><span class="o">=</span><span class="n">GDALDataset</span><span class="p">)</span>
</pre></div>
</div>
<p>Size, extent and spatial reference is given by two grids</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">d</span> <span class="o">=</span> <span class="n">Domain</span><span class="p">(</span><span class="n">lon</span><span class="o">=</span><span class="n">lonGrid</span><span class="p">,</span> <span class="n">lat</span><span class="o">=</span><span class="n">latGrid</span><span class="p">)</span>
</pre></div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>srs</strong> : PROJ4 or EPSG or WKT</p>
<blockquote>
<div><div class="line-block">
<div class="line">Specifies spatial reference system (SRS)</div>
<div class="line">PROJ4:</div>
<div class="line">string with proj4 options [<a class="reference external" href="http://trac.osgeo.org/proj/">http://trac.osgeo.org/proj/</a>] e.g.:</div>
<div class="line">&#8216;+proj=latlong +datum=WGS84 +ellps=WGS84 +no_defs&#8217;</div>
<div class="line">&#8216;+proj=stere +datum=WGS84 +ellps=WGS84 +lat_0=75 +lon_0=10
+no_defs&#8217;</div>
<div class="line">EPSG:</div>
<div class="line">integer with EPSG number, [<a class="reference external" href="http://spatialreference.org/">http://spatialreference.org/</a>],</div>
<div class="line">e.g. 4326</div>
<div class="line">WKT:</div>
<div class="line">string with Well Know Text of SRS. E.g.:</div>
<div class="line">&#8216;GEOGCS[&#8220;WGS 84&#8221;,</div>
<div class="line-block">
<div class="line">DATUM[&#8220;WGS_1984&#8221;,</div>
<div class="line-block">
<div class="line">SPHEROID[&#8220;WGS 84&#8221;,6378137,298.257223563,</div>
<div class="line-block">
<div class="line">AUTHORITY[&#8220;EPSG&#8221;,&#8221;7030&#8221;]],</div>
</div>
<div class="line">TOWGS84[0,0,0,0,0,0,0],</div>
<div class="line">AUTHORITY[&#8220;EPSG&#8221;,&#8221;6326&#8221;]],</div>
</div>
<div class="line">PRIMEM[&#8220;Greenwich&#8221;,0,</div>
<div class="line-block">
<div class="line">AUTHORITY[&#8220;EPSG&#8221;,&#8221;8901&#8221;]],</div>
</div>
<div class="line">UNIT[&#8220;degree&#8221;,0.0174532925199433,</div>
<div class="line-block">
<div class="line">AUTHORITY[&#8220;EPSG&#8221;,&#8221;9108&#8221;]],</div>
</div>
<div class="line">AUTHORITY[&#8220;EPSG&#8221;,&#8221;4326&#8221;]]&#8217;</div>
</div>
</div>
</div></blockquote>
<p><strong>ext</strong> : string</p>
<blockquote>
<div><div class="line-block">
<div class="line">some gdalwarp options + additional options</div>
<div class="line"><a class="reference external" href="http://www.gdal.org/gdalwarp.html">http://www.gdal.org/gdalwarp.html</a></div>
<div class="line">Specifies extent, resolution / size</div>
<div class="line">Available options: ((&#8216;-te&#8217; or &#8216;-lle&#8217;) and (&#8216;-tr&#8217; or &#8216;-ts&#8217;))</div>
<div class="line">(e.g. &#8216;-lle -10 30 55 60 -ts 1000 1000&#8217; or
&#8216;-te 100 2000 300 10000 -tr 300 200&#8217;)</div>
<div class="line">-tr resolutionx resolutiony</div>
<div class="line">-ts sizex sizey</div>
<div class="line">-te xmin ymin xmax ymax</div>
<div class="line">-lle lonmin latmin lonmax latmax</div>
</div>
</div></blockquote>
<p><strong>ds</strong> : GDAL dataset</p>
<p><strong>lat</strong> : Numpy array</p>
<blockquote>
<div><p>Grid with latitudes</p>
</div></blockquote>
<p><strong>lon</strong> : Numpy array</p>
<blockquote>
<div><p>Grid with longitudes</p>
</div></blockquote>
<p><strong>name</strong> : string, optional</p>
<blockquote>
<div><p>Name to be added to the Domain object</p>
</div></blockquote>
<p><strong>logLevel</strong> : int, optional, default=30</p>
<blockquote>
<div><p>level of logging</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Modifies:</th><td class="field-body"><p class="first"><strong>self.vrt.datasetset</strong> : dataset in memory dataset is created</p>
<p><strong>based on the input arguments</strong></p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><p class="first"><strong>ProjectionError</strong> : occurs when Projection() is empty despite</p>
<blockquote>
<div><p>it is required for creating extentDic.</p>
</div></blockquote>
<p class="last"><strong>OptionError</strong> : occures when the arguments are not proper.</p>
</td>
</tr>
</tbody>
</table>
<p class="rubric">References</p>
<div class="line-block">
<div class="line">Nansat.reproject()</div>
<div class="line"><a class="reference external" href="http://www.gdal.org/gdalwarp.html">http://www.gdal.org/gdalwarp.html</a></div>
<div class="line"><a class="reference external" href="http://trac.osgeo.org/proj/">http://trac.osgeo.org/proj/</a></div>
<div class="line"><a class="reference external" href="http://spatialreference.org/">http://spatialreference.org/</a></div>
<div class="line"><a class="reference external" href="http://www.gdal.org/ogr/osr_tutorial.html">http://www.gdal.org/ogr/osr_tutorial.html</a></div>
</div>
<p class="rubric">Methods</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="#nansat.domain.Domain.azimuth_up" title="nansat.domain.Domain.azimuth_up"><tt class="xref py py-obj docutils literal"><span class="pre">azimuth_up</span></tt></a>([reductionFactor])</td>
<td>Calculate the azimuth of &#8216;upward&#8217; direction in each pixel  | Generaly speaking, azimuth is angle from the reference vector   (direction to North) to the chosen direction.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#nansat.domain.Domain.get_border" title="nansat.domain.Domain.get_border"><tt class="xref py py-obj docutils literal"><span class="pre">get_border</span></tt></a>([nPoints])</td>
<td>Generate two vectors with values of lat/lon for the border of domain</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#nansat.domain.Domain.get_border_geometry" title="nansat.domain.Domain.get_border_geometry"><tt class="xref py py-obj docutils literal"><span class="pre">get_border_geometry</span></tt></a>()</td>
<td>Get OGR Geometry of the border Polygon</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#nansat.domain.Domain.get_border_postgis" title="nansat.domain.Domain.get_border_postgis"><tt class="xref py py-obj docutils literal"><span class="pre">get_border_postgis</span></tt></a>()</td>
<td>Get PostGIS formatted string of the border Polygon</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#nansat.domain.Domain.get_border_wkt" title="nansat.domain.Domain.get_border_wkt"><tt class="xref py py-obj docutils literal"><span class="pre">get_border_wkt</span></tt></a>()</td>
<td>Creates string with WKT representation of the border polygon</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#nansat.domain.Domain.get_corners" title="nansat.domain.Domain.get_corners"><tt class="xref py py-obj docutils literal"><span class="pre">get_corners</span></tt></a>()</td>
<td>Get coordinates of corners of the Domain</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#nansat.domain.Domain.get_geolocation_grids" title="nansat.domain.Domain.get_geolocation_grids"><tt class="xref py py-obj docutils literal"><span class="pre">get_geolocation_grids</span></tt></a>([stepSize])</td>
<td>Get longitude and latitude grids representing the full data grid  | If GEOLOCATION is not present in the self.vrt.dataset then grids   are generated by converting pixel/line of each pixel into lat/lon | If GEOLOCATION is present in the self.vrt.dataset then grids are   read from the geolocation bands.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#nansat.domain.Domain.get_pixelsize_meters" title="nansat.domain.Domain.get_pixelsize_meters"><tt class="xref py py-obj docutils literal"><span class="pre">get_pixelsize_meters</span></tt></a>()</td>
<td>Returns the pixelsize (deltaX, deltaY) of the domain  | For projected domains, the exact result which is constant   over the domain is returned.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#nansat.domain.Domain.reproject_GCPs" title="nansat.domain.Domain.reproject_GCPs"><tt class="xref py py-obj docutils literal"><span class="pre">reproject_GCPs</span></tt></a>(srsString)</td>
<td>Reproject all GCPs to a new spatial reference system  | Necessary before warping an image if the given GCPs   are in a coordinate system which has a singularity   in (or near) the destination area (e.g.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#nansat.domain.Domain.shape" title="nansat.domain.Domain.shape"><tt class="xref py py-obj docutils literal"><span class="pre">shape</span></tt></a>()</td>
<td>Return Numpy-like shape of Domain object (ySize, xSize)</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#nansat.domain.Domain.transform_points" title="nansat.domain.Domain.transform_points"><tt class="xref py py-obj docutils literal"><span class="pre">transform_points</span></tt></a>(colVector,&nbsp;rowVector[,&nbsp;...])</td>
<td>Transform given lists of X,Y coordinates into lon/lat or inverse</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#nansat.domain.Domain.upwards_azimuth_direction" title="nansat.domain.Domain.upwards_azimuth_direction"><tt class="xref py py-obj docutils literal"><span class="pre">upwards_azimuth_direction</span></tt></a>([orbit_direction])</td>
<td>Caluculate and return upwards azimuth direction of domain.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#nansat.domain.Domain.write_kml" title="nansat.domain.Domain.write_kml"><tt class="xref py py-obj docutils literal"><span class="pre">write_kml</span></tt></a>([xmlFileName,&nbsp;kmlFileName])</td>
<td>Write KML file with domains  Convert XML-file with domains into KML-file for GoogleEarth or write KML-file with the current Domain  :Parameters:      <strong>xmlFileName</strong> : string, optional          Name of the XML-file to convert.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#nansat.domain.Domain.write_kml_image" title="nansat.domain.Domain.write_kml_image"><tt class="xref py py-obj docutils literal"><span class="pre">write_kml_image</span></tt></a>([kmlFileName,&nbsp;kmlFigureName])</td>
<td>Create KML file for already projected image  Write Domain Image into KML-file for GoogleEarth  :Parameters:      <strong>kmlFileName</strong> : string, optional          Name of the KML-file to generate from the current Domain      <strong>kmlFigureName</strong> : string, optional          Name of the projected image stored in .png format  ..</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#nansat.domain.Domain.write_map" title="nansat.domain.Domain.write_map"><tt class="xref py py-obj docutils literal"><span class="pre">write_map</span></tt></a>(outputFileName[,&nbsp;lonVec,&nbsp;latVec,&nbsp;...])</td>
<td>Create an image with a map of the domain  | Uses Basemap to create a World Map.</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="nansat.domain.Domain.azimuth_up">
<tt class="descname">azimuth_up</tt><big>(</big><em>reductionFactor=1</em><big>)</big><a class="headerlink" href="#nansat.domain.Domain.azimuth_up" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate the azimuth of &#8216;upward&#8217; direction in each pixel</p>
<div class="line-block">
<div class="line">Generaly speaking, azimuth is angle from the reference vector
(direction to North) to the chosen direction. Azimuth increases
clockwise from direction to North.
<a class="reference external" href="http://en.wikipedia.org/wiki/Azimuth">http://en.wikipedia.org/wiki/Azimuth</a></div>
<div class="line">Here we calcluate azimuth of &#8216;upward&#8217; direction.
&#8216;Upward&#8217; direction coincides with Y-axis direction (and hence is
opposite to the ROW-axis direction). For lon-lat (cylindrical,
Plate Caree) and Mercator projections &#8216;upward&#8217; direction coincides
with direction to North, hence azimuth is 0.</div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>reductionFactor</strong> : integer</p>
<blockquote>
<div><p>factor by which the size of the output array is reduced</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>azimuth</strong> : numpy array</p>
<blockquote class="last">
<div><p>Values of azimuth in degrees in range 0 - 360</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="nansat.domain.Domain.get_border">
<tt class="descname">get_border</tt><big>(</big><em>nPoints=10</em><big>)</big><a class="headerlink" href="#nansat.domain.Domain.get_border" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate two vectors with values of lat/lon for the border of domain</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>nPoints</strong> : int, optional</p>
<blockquote>
<div><p>Number of points on each border</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>lonVec, latVec</strong> : lists</p>
<blockquote class="last">
<div><p>vectors with lon/lat values for each point at the border</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="nansat.domain.Domain.get_border_geometry">
<tt class="descname">get_border_geometry</tt><big>(</big><big>)</big><a class="headerlink" href="#nansat.domain.Domain.get_border_geometry" title="Permalink to this definition">¶</a></dt>
<dd><p>Get OGR Geometry of the border Polygon</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><strong>OGR Geometry</strong> : type Polygon</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="nansat.domain.Domain.get_border_postgis">
<tt class="descname">get_border_postgis</tt><big>(</big><big>)</big><a class="headerlink" href="#nansat.domain.Domain.get_border_postgis" title="Permalink to this definition">¶</a></dt>
<dd><p>Get PostGIS formatted string of the border Polygon</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><strong>str</strong> : &#8216;PolygonFromText(PolygonWKT)&#8217;</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="nansat.domain.Domain.get_border_wkt">
<tt class="descname">get_border_wkt</tt><big>(</big><big>)</big><a class="headerlink" href="#nansat.domain.Domain.get_border_wkt" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates string with WKT representation of the border polygon</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>WKTPolygon</strong> : string</p>
<blockquote class="last">
<div><p>string with WKT representation of the border polygon</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="nansat.domain.Domain.get_corners">
<tt class="descname">get_corners</tt><big>(</big><big>)</big><a class="headerlink" href="#nansat.domain.Domain.get_corners" title="Permalink to this definition">¶</a></dt>
<dd><p>Get coordinates of corners of the Domain</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>lonVec, latVec</strong> : lists</p>
<blockquote class="last">
<div><p>vectors with lon/lat values for each corner</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="nansat.domain.Domain.get_geolocation_grids">
<tt class="descname">get_geolocation_grids</tt><big>(</big><em>stepSize=1</em><big>)</big><a class="headerlink" href="#nansat.domain.Domain.get_geolocation_grids" title="Permalink to this definition">¶</a></dt>
<dd><p>Get longitude and latitude grids representing the full data grid</p>
<div class="line-block">
<div class="line">If GEOLOCATION is not present in the self.vrt.dataset then grids
are generated by converting pixel/line of each pixel into lat/lon</div>
<div class="line">If GEOLOCATION is present in the self.vrt.dataset then grids are
read from the geolocation bands.</div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>stepSize</strong> : int</p>
<blockquote>
<div><p>Reduction factor if output is desired on a reduced grid size</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>longitude</strong> : numpy array</p>
<blockquote>
<div><p>grid with longitudes</p>
</div></blockquote>
<p><strong>latitude</strong> : numpy array</p>
<blockquote class="last">
<div><p>grid with latitudes</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="nansat.domain.Domain.get_pixelsize_meters">
<tt class="descname">get_pixelsize_meters</tt><big>(</big><big>)</big><a class="headerlink" href="#nansat.domain.Domain.get_pixelsize_meters" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the pixelsize (deltaX, deltaY) of the domain</p>
<div class="line-block">
<div class="line">For projected domains, the exact result which is constant
over the domain is returned.</div>
<div class="line">For geographic (lon-lat) projections,
or domains with no geotransform,
the haversine formula is used to calculate the pixel size
in the center of the domain.</div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>deltaX, deltaY</strong> : float</p>
<blockquote class="last">
<div><p>pixel size in X and Y directions given in meters</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="nansat.domain.Domain.reproject_GCPs">
<tt class="descname">reproject_GCPs</tt><big>(</big><em>srsString</em><big>)</big><a class="headerlink" href="#nansat.domain.Domain.reproject_GCPs" title="Permalink to this definition">¶</a></dt>
<dd><p>Reproject all GCPs to a new spatial reference system</p>
<div class="line-block">
<div class="line">Necessary before warping an image if the given GCPs
are in a coordinate system which has a singularity
in (or near) the destination area (e.g. poles for lonlat GCPs)</div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>srsString</strong> : string</p>
<blockquote>
<div><p>SRS given as Proj4 string</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Modifies:</th><td class="field-body"><p class="first last"><strong>Reprojects all GCPs to new SRS and updates GCPProjection</strong></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="nansat.domain.Domain.shape">
<tt class="descname">shape</tt><big>(</big><big>)</big><a class="headerlink" href="#nansat.domain.Domain.shape" title="Permalink to this definition">¶</a></dt>
<dd><p>Return Numpy-like shape of Domain object (ySize, xSize)</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>shape</strong> : tuple of two INT</p>
<blockquote class="last">
<div><p>Numpy-like shape of Domain object (ySize, xSize)</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="nansat.domain.Domain.transform_points">
<tt class="descname">transform_points</tt><big>(</big><em>colVector</em>, <em>rowVector</em>, <em>DstToSrc=0</em><big>)</big><a class="headerlink" href="#nansat.domain.Domain.transform_points" title="Permalink to this definition">¶</a></dt>
<dd><p>Transform given lists of X,Y coordinates into lon/lat or inverse</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>colVector</strong> : lists</p>
<blockquote>
<div><p>X and Y coordinates in pixel/line or lon/lat  coordinate system</p>
</div></blockquote>
<p><strong>DstToSrc</strong> : 0 or 1</p>
<blockquote>
<div><ul class="simple">
<li>0 - forward transform (pix/line =&gt; lon/lat)</li>
<li>1 - inverse transformation</li>
</ul>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>X, Y</strong> : lists</p>
<blockquote class="last">
<div><p>X and Y coordinates in lon/lat or pixel/line coordinate system</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="nansat.domain.Domain.upwards_azimuth_direction">
<tt class="descname">upwards_azimuth_direction</tt><big>(</big><em>orbit_direction=None</em><big>)</big><a class="headerlink" href="#nansat.domain.Domain.upwards_azimuth_direction" title="Permalink to this definition">¶</a></dt>
<dd><p>Caluculate and return upwards azimuth direction of domain.</p>
<p>The upward azimuth direction will be the satellite flight
direction (bearing) for unprojected satellite images.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>bearing_center</strong> : float</p>
<blockquote class="last">
<div><p>The upwards azimuth direction (bearing) in the center of
the domain.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Notes</p>
<div class="line-block">
<div class="line">For longer domains especially at high latitudes
the azimuth direction may vary a lot over the domain,
and using the center angle will be a coarse approximation.</div>
<div class="line">This function should be updated to return a matrix
of bearings interpolated to each pixel of the domain.
This method should probably also get a better name.</div>
</div>
</dd></dl>

<dl class="method">
<dt id="nansat.domain.Domain.write_kml">
<tt class="descname">write_kml</tt><big>(</big><em>xmlFileName=None</em>, <em>kmlFileName=None</em><big>)</big><a class="headerlink" href="#nansat.domain.Domain.write_kml" title="Permalink to this definition">¶</a></dt>
<dd><p>Write KML file with domains</p>
<p>Convert XML-file with domains into KML-file for GoogleEarth
or write KML-file with the current Domain</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>xmlFileName</strong> : string, optional</p>
<blockquote>
<div><p>Name of the XML-file to convert. If only this value is given
- kmlFileName=xmlFileName+&#8217;.kml&#8217;</p>
</div></blockquote>
<p><strong>kmlFileName</strong> : string, optional</p>
<blockquote class="last">
<div><p>Name of the KML-file to generate from the current Domain</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="nansat.domain.Domain.write_kml_image">
<tt class="descname">write_kml_image</tt><big>(</big><em>kmlFileName=None</em>, <em>kmlFigureName=None</em><big>)</big><a class="headerlink" href="#nansat.domain.Domain.write_kml_image" title="Permalink to this definition">¶</a></dt>
<dd><p>Create KML file for already projected image</p>
<p>Write Domain Image into KML-file for GoogleEarth</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>kmlFileName</strong> : string, optional</p>
<blockquote>
<div><p>Name of the KML-file to generate from the current Domain</p>
</div></blockquote>
<p><strong>kmlFigureName</strong> : string, optional</p>
<blockquote class="last">
<div><p>Name of the projected image stored in .png format</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<p>Create projected a KML image</p>
<div class="highlight-python"><div class="highlight"><pre><span class="c"># 1. First of all, reproject an image into Lat/Lon WGS84</span>
<span class="c"># (Simple Cylindrical) projection.</span>
<span class="c"># Cancel previous reprojection</span>
<span class="n">n</span><span class="o">.</span><span class="n">reproject</span><span class="p">()</span>
<span class="c"># 2. Get corners of the image and the pixel resolution</span>
<span class="c"># lons, lats = n.get_corners()</span>
<span class="c"># 3. Create Domain with stereographic projection,</span>
<span class="c">#    corner coordinates and resolution 1000m</span>
<span class="n">srsString</span> <span class="o">=</span> <span class="s">&#39;+proj=latlong +datum=WGS84 +ellps=WGS84 +no_defs&#39;</span>
<span class="n">extentString</span> <span class="o">=</span> <span class="s">&#39;-lle </span><span class="si">%f</span><span class="s"> </span><span class="si">%f</span><span class="s"> </span><span class="si">%f</span><span class="s"> </span><span class="si">%f</span><span class="s"> -ts 3000 3000&#39;</span> <span class="o">%</span><span class="p">(</span><span class="nb">min</span><span class="p">(</span><span class="n">lons</span><span class="p">),</span> <span class="nb">min</span><span class="p">(</span><span class="n">lats</span><span class="p">),</span> <span class="nb">max</span><span class="p">(</span><span class="n">lons</span><span class="p">),</span> <span class="nb">max</span><span class="p">(</span><span class="n">lats</span><span class="p">))</span>
<span class="n">d</span> <span class="o">=</span> <span class="n">Domain</span><span class="p">(</span><span class="n">srs</span><span class="o">=</span><span class="n">srsString</span><span class="p">,</span> <span class="n">ext</span><span class="o">=</span><span class="n">extentString</span><span class="p">)</span>
<span class="c"># 4. Reproject</span>
<span class="n">n</span><span class="o">.</span><span class="n">reproject</span><span class="p">(</span><span class="n">d</span><span class="p">)</span>
<span class="c"># 5. Write image</span>
<span class="n">n</span><span class="o">.</span><span class="n">write_figure</span><span class="p">(</span><span class="n">fileName</span><span class="o">=</span><span class="n">figureName</span><span class="p">,</span> <span class="n">bands</span><span class="o">=</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span> <span class="n">clim</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mf">0.15</span><span class="p">],</span>
               <span class="n">cmapName</span><span class="o">=</span><span class="s">&#39;gray&#39;</span><span class="p">,</span> <span class="n">transparency</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="c"># 6. Write KML for the image</span>
<span class="n">n</span><span class="o">.</span><span class="n">write_kml_image</span><span class="p">(</span><span class="n">kmlFileName</span><span class="o">=</span><span class="n">oPath</span> <span class="o">+</span> <span class="n">fileName</span> <span class="o">+</span> <span class="s">&#39;.kml&#39;</span><span class="p">,</span>
                  <span class="n">kmlFigureName</span><span class="o">=</span><span class="n">figureName</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="nansat.domain.Domain.write_map">
<tt class="descname">write_map</tt><big>(</big><em>outputFileName</em>, <em>lonVec=None</em>, <em>latVec=None</em>, <em>lonBorder=10.0</em>, <em>latBorder=10.0</em>, <em>figureSize=(6</em>, <em>6)</em>, <em>dpi=50</em>, <em>projection='cyl'</em>, <em>resolution='c'</em>, <em>continetsColor='coral'</em>, <em>meridians=10</em>, <em>parallels=10</em>, <em>pColor='r'</em>, <em>pLine='k'</em>, <em>pAlpha=0.5</em>, <em>padding=0.0</em><big>)</big><a class="headerlink" href="#nansat.domain.Domain.write_map" title="Permalink to this definition">¶</a></dt>
<dd><p>Create an image with a map of the domain</p>
<div class="line-block">
<div class="line">Uses Basemap to create a World Map.</div>
<div class="line">Adds a semitransparent patch with outline of the Domain</div>
<div class="line">Writes to an image file.</div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>outputFileName</strong> : string</p>
<blockquote>
<div><p>name of the output file name</p>
</div></blockquote>
<p><strong>lonBorder</strong> : float</p>
<blockquote>
<div><p>10, horisontal border around patch (degrees of longitude)</p>
</div></blockquote>
<p><strong>latBorder</strong> : float</p>
<blockquote>
<div><p>10, vertical border around patch (degrees of latitude)</p>
</div></blockquote>
<p><strong>figureSize</strong> : tuple of two integers</p>
<blockquote>
<div><p>(6, 6), size of the generated figure in inches</p>
</div></blockquote>
<p><strong>dpi: int</strong></p>
<blockquote>
<div><p>50, resolution of the output figure (size 6,6 and dpi 50
produces 300 x 300 figure)</p>
</div></blockquote>
<p><strong>projection</strong> : string, one of Basemap projections</p>
<blockquote>
<div><p>&#8216;cyl&#8217;, projection of the map</p>
</div></blockquote>
<p><strong>resolution</strong> : string, resolution of the map</p>
<blockquote>
<div><div class="line-block">
<div class="line">&#8216;c&#8217;, crude</div>
<div class="line">&#8216;l&#8217;, low</div>
<div class="line">&#8216;i&#8217;, intermediate</div>
<div class="line">&#8216;h&#8217;, high</div>
<div class="line">&#8216;f&#8217;, full</div>
</div>
</div></blockquote>
<p><strong>continetsColor</strong> : string or any matplotlib color representation</p>
<blockquote>
<div><p>&#8216;coral&#8217;, color of continets</p>
</div></blockquote>
<p><strong>meridians</strong> : int</p>
<blockquote>
<div><p>10, number of meridians to draw</p>
</div></blockquote>
<p><strong>parallels</strong> : int</p>
<blockquote>
<div><p>10, number of parallels to draw</p>
</div></blockquote>
<p><strong>pColor</strong> : string or any matplotlib color representation</p>
<blockquote>
<div><p>&#8216;r&#8217;, color of the Domain patch</p>
</div></blockquote>
<p><strong>pLine</strong> : string or any matplotlib color representation</p>
<blockquote>
<div><p>&#8216;k&#8217;, color of the Domain outline</p>
</div></blockquote>
<p><strong>pAlpha</strong> : float 0 - 1</p>
<blockquote>
<div><p>0.5, transparency of Domain patch</p>
</div></blockquote>
<p><strong>padding</strong> : float</p>
<blockquote class="last">
<div><p>0., width of white padding around the map</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>


          </div>
        </div>
          </div>
        </div>
      </div>
    </div>

    <div class="container container-navbar-bottom">
      <div class="spc-navbar">
        
      </div>
    </div>

    <div class="container">
    <div class="footer">
    <div class="row-fluid">
    <ul class="inline pull-left">
      <li>
        &copy; Copyright 2013, Nansen Center.
      </li>
      <li>
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.2.1.
      </li>
    </ul>
    </div>
    </div>
    </div>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-43252602-1', 'nansencenter.github.io');
  ga('send', 'pageview');

</script>

  </body>
</html>