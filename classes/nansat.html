<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8">
    
    <title>nansat package &mdash; Nansat 0.6 documentation</title>
    
    <link rel="stylesheet" type="text/css" href="_static/css/spc-bootstrap.css">
    <link rel="stylesheet" type="text/css" href="_static/css/spc-extend.css">
    <link rel="stylesheet" href="_static/scipy.css" type="text/css" >
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" >
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '0.6',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/js/copybutton.js"></script>
    <link rel="top" title="Nansat 0.6 documentation" href="index.html" >
    <link rel="next" title="Domain class" href="nansat.domain.html" >
    <link rel="prev" title="Welcome to nansat’s documentation!" href="index.html" > 
  </head>
  <body>

<div class="container">
  <div class="top-scipy-org-logo-header">
    <a href="../index.html">
      <img style="border: 0;" alt="SciPy" src="_static/img/nansat_logo.gif"></a>
    </div>
  </div>
</div>


    <div class="container">
      <div class="main">
        

	<div class="row-fluid">
          <div class="span9">
            
	      <div class="row-fluid">
		<div class="span9">
  		  <div class="spc-navbar">
		    
    <ul class="nav nav-pills pull-left">
        <li class="active"><a href="https://github.com/nansencenter/nansat/">GitHub</a></li>
	
        <li class="active"><a href="../index.html">Nansat 0.6 documentation</a></li>
	 
    </ul>
		  </div>
		</div>
	      </div>
            
        <div class="bodywrapper">
          <div class="body" id="spc-section-body">
            
  <div class="section" id="nansat-package">
<h1>nansat package<a class="headerlink" href="#nansat-package" title="Permalink to this headline">¶</a></h1>
<div class="section" id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this headline">¶</a></h2>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="nansat.domain.html">Domain class</a></li>
<li class="toctree-l1"><a class="reference internal" href="nansat.figure.html">Figure class</a></li>
<li class="toctree-l1"><a class="reference internal" href="nansat.geolocationarray.html">GeolocationArray class</a></li>
<li class="toctree-l1"><a class="reference internal" href="nansat.mosaic.html">Mosaic class</a></li>
<li class="toctree-l1"><a class="reference internal" href="nansat.nansat.html">Nansat class</a></li>
<li class="toctree-l1"><a class="reference internal" href="nansat.nansatmap.html">Nansatmap class</a></li>
<li class="toctree-l1"><a class="reference internal" href="nansat.nansatshape.html">Nansatshape class</a></li>
<li class="toctree-l1"><a class="reference internal" href="nansat.vrt.html">VRT class</a></li>
<li class="toctree-l1"><a class="reference internal" href="nansat.node.html">Node class</a></li>
<li class="toctree-l1"><a class="reference internal" href="nansat.nsr.html">NSR class</a></li>
<li class="toctree-l1"><a class="reference internal" href="nansat.pointbrowser.html">PointBrowser class</a></li>
</ul>
</div>
</div>
<div class="section" id="module-nansat">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-nansat" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="nansat.NSR">
<em class="property">class </em><tt class="descclassname">nansat.</tt><tt class="descname">NSR</tt><big>(</big><em>srs=0</em><big>)</big><a class="headerlink" href="#nansat.NSR" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">osgeo.osr.SpatialReference</span></tt>, <tt class="xref py py-class docutils literal"><span class="pre">object</span></tt></p>
<p>Nansat Spatial Reference</p>
<p>Overrides only constructor of osr.SpatialReference</p>
</dd></dl>

<dl class="class">
<dt id="nansat.Domain">
<em class="property">class </em><tt class="descclassname">nansat.</tt><tt class="descname">Domain</tt><big>(</big><em>srs=None</em>, <em>ext=None</em>, <em>ds=None</em>, <em>lon=None</em>, <em>lat=None</em>, <em>name=''</em>, <em>logLevel=None</em><big>)</big><a class="headerlink" href="#nansat.Domain" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">object</span></tt></p>
<p>Container for geographical reference of a raster</p>
<div class="line-block">
<div class="line">A Domain object describes all attributes of geographical
reference of a raster:</div>
<div class="line-block">
<div class="line">width and height (number of pixels)</div>
<div class="line">pixel size (e.g. in decimal degrees or in meters)</div>
<div class="line">relation between pixel/line coordinates and geographical
coordinates (e.g. a linear relation)</div>
<div class="line">type of data projection (e.g. geographical or stereographic)</div>
</div>
</div>
<div class="line-block">
<div class="line">The core of Domain is a GDAL Dataset. It has no bands, but only
georeference information: rasterXsize, rasterYsize, GeoTransform and</div>
<div class="line">Projection or GCPs, etc. which fully describe dimentions and spatial
reference of the grid.</div>
</div>
<div class="line-block">
<div class="line">There are three ways to store geo-reference in a GDAL dataset:</div>
<div class="line-block">
<div class="line">Using GeoTransfrom to define linear relationship between raster
pixel/line and geographical X/Y coordinates</div>
<div class="line">Using GCPs (set of Ground Control Points) to define non-linear
relationship between pixel/line and X/Y</div>
<div class="line">Using Geolocation Array - full grids of X/Y coordinates for
each pixel of a raster</div>
</div>
<div class="line">The relation between X/Y coordinates of the raster and latitude/longitude
coordinates is defined by projection type and projection parameters.</div>
<div class="line">These pieces of information are therefore stored in Domain:</div>
<div class="line-block">
<div class="line">Type and parameters of projection +</div>
<div class="line-block">
<div class="line">GeoTransform, or</div>
<div class="line">GCPs, or</div>
<div class="line">GeolocationArrays</div>
</div>
</div>
</div>
<div class="line-block">
<div class="line">Domain has methods for basic operations with georeference information:</div>
<div class="line-block">
<div class="line">creating georeference from input options;</div>
<div class="line-block">
<div class="line">fetching corner, border or full grids of X/Y coordinates;</div>
<div class="line">making map of the georeferenced grid in a PNG or KML file;</div>
<div class="line">and some more...</div>
</div>
</div>
</div>
<div class="line-block">
<div class="line">The main attribute of Domain is a VRT object self.vrt.</div>
<div class="line">Nansat inherits from Domain and adds bands to self.vrt</div>
</div>
<dl class="method">
<dt id="nansat.Domain.azimuth_y">
<tt class="descname">azimuth_y</tt><big>(</big><em>reductionFactor=1</em><big>)</big><a class="headerlink" href="#nansat.Domain.azimuth_y" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate the azimuth of &#8216;upward&#8217; direction in each pixel</p>
<p>Generaly speaking, azimuth is angle from the reference vector
(direction to North) to the chosen direction. Azimuth increases
clockwise from direction to North. <a class="reference external" href="http://en.wikipedia.org/wiki/Azimuth">http://en.wikipedia.org/wiki/Azimuth</a></p>
<p>Here we calcluate azimuth of &#8216;upward&#8217; direction.
&#8216;Upward&#8217; direction coincides with Y-axis direction (and hence is
opposite to the ROW-axis direction). For lon-lat (cylindrical,
Plate Caree) and Mercator projections &#8216;upward&#8217; direction coincides with
direction to North, hence azimuth is 0.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>reductionFactor</strong> : integer</p>
<blockquote>
<div><p>factor by which the size of the output array is reduced</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>azimuth</strong> : numpy array</p>
<blockquote class="last">
<div><p>Values of azimuth in degrees in range 0 - 360</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="nansat.Domain.get_border">
<tt class="descname">get_border</tt><big>(</big><em>nPoints=10</em><big>)</big><a class="headerlink" href="#nansat.Domain.get_border" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate two vectors with values of lat/lon for the border of domain</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>nPoints</strong> : int, optional</p>
<blockquote>
<div><p>Number of points on each border</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>lonVec, latVec</strong> : lists</p>
<blockquote class="last">
<div><p>vectors with lon/lat values for each point at the border</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="nansat.Domain.get_border_geometry">
<tt class="descname">get_border_geometry</tt><big>(</big><big>)</big><a class="headerlink" href="#nansat.Domain.get_border_geometry" title="Permalink to this definition">¶</a></dt>
<dd><p>Get OGR Geometry of the border Polygon</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><strong>OGR Geometry</strong> : type Polygon</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="nansat.Domain.get_border_postgis">
<tt class="descname">get_border_postgis</tt><big>(</big><big>)</big><a class="headerlink" href="#nansat.Domain.get_border_postgis" title="Permalink to this definition">¶</a></dt>
<dd><p>Get PostGIS formatted string of the border Polygon</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><strong>str</strong> : &#8216;PolygonFromText(PolygonWKT)&#8217;</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="nansat.Domain.get_border_wkt">
<tt class="descname">get_border_wkt</tt><big>(</big><big>)</big><a class="headerlink" href="#nansat.Domain.get_border_wkt" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates string with WKT representation of the border polygon</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>WKTPolygon</strong> : string</p>
<blockquote class="last">
<div><p>string with WKT representation of the border polygon</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="nansat.Domain.get_corners">
<tt class="descname">get_corners</tt><big>(</big><big>)</big><a class="headerlink" href="#nansat.Domain.get_corners" title="Permalink to this definition">¶</a></dt>
<dd><p>Get coordinates of corners of the Domain</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>lonVec, latVec</strong> : lists</p>
<blockquote class="last">
<div><p>vectors with lon/lat values for each corner</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="nansat.Domain.get_geolocation_grids">
<tt class="descname">get_geolocation_grids</tt><big>(</big><em>stepSize=1</em><big>)</big><a class="headerlink" href="#nansat.Domain.get_geolocation_grids" title="Permalink to this definition">¶</a></dt>
<dd><p>Get longitude and latitude grids representing the full data grid</p>
<div class="line-block">
<div class="line">If GEOLOCATION is not present in the self.vrt.dataset then grids
are generated by converting pixel/line of each pixel into lat/lon</div>
<div class="line">If GEOLOCATION is present in the self.vrt.dataset then grids are read
from the geolocation bands.</div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>stepSize</strong> : int</p>
<blockquote>
<div><p>Reduction factor if output is desired on a reduced grid size</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>longitude</strong> : numpy array</p>
<blockquote>
<div><p>grid with longitudes</p>
</div></blockquote>
<p><strong>latitude</strong> : numpy array</p>
<blockquote class="last">
<div><p>grid with latitudes</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="nansat.Domain.get_pixelsize_meters">
<tt class="descname">get_pixelsize_meters</tt><big>(</big><big>)</big><a class="headerlink" href="#nansat.Domain.get_pixelsize_meters" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the pixelsize (deltaX, deltaY) of the domain</p>
<div class="line-block">
<div class="line">For projected domains, the exact result which is constant
over the domain is returned.</div>
<div class="line">For geographic (lon-lat) projections, or domains with no geotransform,
the haversine formula is used to calculate the pixel size
in the center of the domain.</div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>deltaX, deltaY</strong> : float</p>
<p class="last">pixel size in X and Y directions given in meters</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="nansat.Domain.reproject_GCPs">
<tt class="descname">reproject_GCPs</tt><big>(</big><em>srsString</em><big>)</big><a class="headerlink" href="#nansat.Domain.reproject_GCPs" title="Permalink to this definition">¶</a></dt>
<dd><p>Reproject all GCPs to a new spatial reference system</p>
<p>Necessary before warping an image if the given GCPs
are in a coordinate system which has a singularity
in (or near) the destination area (e.g. poles for lonlat GCPs)</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>srsString</strong> : string</p>
<blockquote>
<div><p>SRS given as Proj4 string</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Modifies:</th><td class="field-body"><p class="first last"><strong>self.vrt</strong> : Reprojects all GCPs to new SRS and updates GCPProjection</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="nansat.Domain.shape">
<tt class="descname">shape</tt><big>(</big><big>)</big><a class="headerlink" href="#nansat.Domain.shape" title="Permalink to this definition">¶</a></dt>
<dd><p>Return Numpy-like shape of Domain object (ySize, xSize)</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>shape</strong> : tuple of two INT</p>
<blockquote class="last">
<div><p>Numpy-like shape of Domain object (ySize, xSize)</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="nansat.Domain.transform_points">
<tt class="descname">transform_points</tt><big>(</big><em>colVector</em>, <em>rowVector</em>, <em>DstToSrc=0</em><big>)</big><a class="headerlink" href="#nansat.Domain.transform_points" title="Permalink to this definition">¶</a></dt>
<dd><p>Transform given lists of X,Y coordinates into lon/lat or inverse</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>colVector</strong> : lists</p>
<blockquote>
<div><p>X and Y coordinates in pixel/line or lon/lat  coordinate system</p>
</div></blockquote>
<p><strong>DstToSrc</strong> : 0 or 1</p>
<blockquote>
<div><div class="line-block">
<div class="line">0 - forward transform (pix/line =&gt; lon/lat)</div>
<div class="line">1 - inverse transformation</div>
</div>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>X, Y</strong> : lists</p>
<blockquote class="last">
<div><p>X and Y coordinates in lon/lat or pixel/line coordinate system</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="nansat.Domain.write_kml">
<tt class="descname">write_kml</tt><big>(</big><em>xmlFileName=None</em>, <em>kmlFileName=None</em><big>)</big><a class="headerlink" href="#nansat.Domain.write_kml" title="Permalink to this definition">¶</a></dt>
<dd><p>Write KML file with domains</p>
<p>Convert XML-file with domains into KML-file for GoogleEarth
or write KML-file with the current Domain</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>xmlFileName</strong> : string, optional</p>
<blockquote>
<div><p>Name of the XML-file to convert. If only this value is given
- kmlFileName=xmlFileName+&#8217;.kml&#8217;</p>
</div></blockquote>
<p><strong>kmlFileName</strong> : string, optional</p>
<blockquote class="last">
<div><p>Name of the KML-file to generate from the current Domain</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="nansat.Domain.write_kml_image">
<tt class="descname">write_kml_image</tt><big>(</big><em>kmlFileName=None</em>, <em>kmlFigureName=None</em><big>)</big><a class="headerlink" href="#nansat.Domain.write_kml_image" title="Permalink to this definition">¶</a></dt>
<dd><p>Create KML file for already projected image</p>
<p>Write Domain Image into KML-file for GoogleEarth</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>kmlFileName</strong> : string, optional</p>
<blockquote>
<div><p>Name of the KML-file to generate from the current Domain</p>
</div></blockquote>
<p><strong>kmlFigureName</strong> : string, optional</p>
<blockquote class="last">
<div><p>Name of the projected image stored in .png format</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<div class="line-block">
<div class="line">First of all, reproject an image into Lat/Lon WGS84
(Simple Cylindrical) projection</div>
<div class="line">1. Cancel previous reprojection</div>
<div class="line">2. Get corners of the image and the pixel resolution</div>
<div class="line">3. Create Domain with stereographic projection,</div>
<div class="line-block">
<div class="line">corner coordinates and resolution 1000m</div>
</div>
<div class="line">4. Reproject</div>
<div class="line">5. Write image</div>
<div class="line">6. Write KML for the image</div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">n</span><span class="o">.</span><span class="n">reproject</span><span class="p">()</span> <span class="c"># 1.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">lons</span><span class="p">,</span> <span class="n">lats</span> <span class="o">=</span> <span class="n">n</span><span class="o">.</span><span class="n">get_corners</span><span class="p">()</span> <span class="c"># 2.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">srsString</span> <span class="o">=</span> <span class="s">&#39;+proj=latlong +datum=WGS84 +ellps=WGS84 +no_defs&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">extentString</span> <span class="o">=</span> <span class="s">&#39;-lle </span><span class="si">%f</span><span class="s"> </span><span class="si">%f</span><span class="s"> </span><span class="si">%f</span><span class="s"> </span><span class="si">%f</span><span class="s"> -ts 3000 3000&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="o">%</span> <span class="p">(</span><span class="nb">min</span><span class="p">(</span><span class="n">lons</span><span class="p">),</span> <span class="nb">min</span><span class="p">(</span><span class="n">lats</span><span class="p">),</span> <span class="nb">max</span><span class="p">(</span><span class="n">lons</span><span class="p">),</span> <span class="nb">max</span><span class="p">(</span><span class="n">lats</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d</span> <span class="o">=</span> <span class="n">Domain</span><span class="p">(</span><span class="n">srs</span><span class="o">=</span><span class="n">srsString</span><span class="p">,</span> <span class="n">ext</span><span class="o">=</span><span class="n">extentString</span><span class="p">)</span> <span class="c"># 3.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n</span><span class="o">.</span><span class="n">reproject</span><span class="p">(</span><span class="n">d</span><span class="p">)</span> <span class="c"># 4.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n</span><span class="o">.</span><span class="n">write_figure</span><span class="p">(</span><span class="n">fileName</span><span class="o">=</span><span class="n">figureName</span><span class="p">,</span> <span class="n">bands</span><span class="o">=</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span> <span class="n">clim</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mf">0.15</span><span class="p">],</span>
<span class="gp">&gt;&gt;&gt; </span>              <span class="n">cmapName</span><span class="o">=</span><span class="s">&#39;gray&#39;</span><span class="p">,</span> <span class="n">transparency</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span> <span class="c"># 5.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n</span><span class="o">.</span><span class="n">write_kml_image</span><span class="p">(</span><span class="n">kmlFileName</span><span class="o">=</span><span class="n">oPath</span> <span class="o">+</span> <span class="n">fileName</span> <span class="o">+</span> <span class="s">&#39;.kml&#39;</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>                 <span class="n">kmlFigureName</span><span class="o">=</span><span class="n">figureName</span><span class="p">)</span> <span class="c"># 6.</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="nansat.Domain.write_map">
<tt class="descname">write_map</tt><big>(</big><em>outputFileName, lonVec=None, latVec=None, lonBorder=10.0, latBorder=10.0, figureSize=(6, 6), dpi=50, projection='cyl', resolution='c', continetsColor='coral', meridians=10, parallels=10, pColor='r', pLine='k', pAlpha=0.5, padding=0.0, merLabels=[False, False, False, False], parLabels=[False, False, False, False], pltshow=False</em><big>)</big><a class="headerlink" href="#nansat.Domain.write_map" title="Permalink to this definition">¶</a></dt>
<dd><p>Create an image with a map of the domain</p>
<div class="line-block">
<div class="line">Uses Basemap to create a World Map</div>
<div class="line">Adds a semitransparent patch with outline of the Domain</div>
<div class="line">Writes to an image file</div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>outputFileName</strong> : string</p>
<blockquote>
<div><p>name of the output file name</p>
</div></blockquote>
<p><strong>lonBorder</strong> : float</p>
<blockquote>
<div><p>10, horisontal border around patch (degrees of longitude)</p>
</div></blockquote>
<p><strong>latBorder</strong> : float</p>
<blockquote>
<div><p>10, vertical border around patch (degrees of latitude)</p>
</div></blockquote>
<p><strong>figureSize</strong> : tuple of two integers</p>
<blockquote>
<div><p>(6, 6), size of the generated figure in inches</p>
</div></blockquote>
<p><strong>dpi: int</strong></p>
<blockquote>
<div><p>50, resolution of the output figure (size 6,6 and dpi 50
produces 300 x 300 figure)</p>
</div></blockquote>
<p><strong>projection</strong> : string, one of Basemap projections</p>
<blockquote>
<div><p>&#8216;cyl&#8217;, projection of the map</p>
</div></blockquote>
<p><strong>resolution</strong> : string, resolution of the map</p>
<blockquote>
<div><div class="line-block">
<div class="line">&#8216;c&#8217;, crude</div>
<div class="line">&#8216;l&#8217;, low</div>
<div class="line">&#8216;i&#8217;, intermediate</div>
<div class="line">&#8216;h&#8217;, high</div>
<div class="line">&#8216;f&#8217;, full</div>
</div>
</div></blockquote>
<p><strong>continetsColor</strong> : string or any matplotlib color representation</p>
<blockquote>
<div><p>&#8216;coral&#8217;, color of continets</p>
</div></blockquote>
<p><strong>meridians</strong> : int</p>
<blockquote>
<div><p>10, number of meridians to draw</p>
</div></blockquote>
<p><strong>parallels</strong> : int</p>
<blockquote>
<div><p>10, number of parallels to draw</p>
</div></blockquote>
<p><strong>pColor</strong> : string or any matplotlib color representation</p>
<blockquote>
<div><p>&#8216;r&#8217;, color of the Domain patch</p>
</div></blockquote>
<p><strong>pLine</strong> : string or any matplotlib color representation</p>
<blockquote>
<div><p>&#8216;k&#8217;, color of the Domain outline</p>
</div></blockquote>
<p><strong>pAlpha</strong> : float 0 - 1</p>
<blockquote>
<div><p>0.5, transparency of Domain patch</p>
</div></blockquote>
<p><strong>padding</strong> : float</p>
<blockquote>
<div><p>0., width of white padding around the map</p>
</div></blockquote>
<p><strong>merLabels</strong> : list of 4 booleans</p>
<blockquote>
<div><p>where to put meridian labels, see also Basemap.drawmeridians()</p>
</div></blockquote>
<p><strong>parLables</strong> : list of 4 booleans</p>
<blockquote class="last">
<div><p>where to put parallel labels, see also Basemap.drawparallels()</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="nansat.Nansat">
<em class="property">class </em><tt class="descclassname">nansat.</tt><tt class="descname">Nansat</tt><big>(</big><em>fileName=''</em>, <em>mapperName=''</em>, <em>domain=None</em>, <em>array=None</em>, <em>parameters=None</em>, <em>logLevel=30</em>, <em>**kwargs</em><big>)</big><a class="headerlink" href="#nansat.Nansat" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="nansat.domain.html#nansat.domain.Domain" title="nansat.domain.Domain"><tt class="xref py py-class docutils literal"><span class="pre">nansat.domain.Domain</span></tt></a></p>
<p>Container for geospatial data, performs all high-level operations</p>
<div class="line-block">
<div class="line">n = Nansat(fileName) opens the file with satellite or model data for
reading, adds scientific metadata to bands, and prepares the data for
further handling.</div>
</div>
<div class="line-block">
<div class="line">The instance of Nansat class (the object &lt;n&gt;) contains information
about geographical reference of the data (e.g raster size, pixel
resolution, type of projection, etc) and about bands with values of
geophysical variables (e.g. water leaving radiance, normalized radar
cross section, chlrophyll concentraion, etc).
The object &lt;n&gt; has methods for high-level operations with data. E.g.:</div>
<div class="line-block">
<div class="line">reading data from file (Nansat.__getitem__);</div>
<div class="line">visualization (Nansat.write_figure);</div>
<div class="line">changing geographical reference (Nansat.reproject);</div>
<div class="line">exporting (Nansat.export)</div>
<div class="line">and much more...</div>
</div>
</div>
<div class="line-block">
<div class="line">Nansat inherits from Domain (container of geo-reference information)</div>
<div class="line">Nansat uses instance of VRT (wraper around GDAL VRT-files)</div>
<div class="line">Nansat uses instance of Figure (collection of methods for visualization)</div>
</div>
<dl class="method">
<dt id="nansat.Nansat.add_band">
<tt class="descname">add_band</tt><big>(</big><em>array</em>, <em>parameters=None</em>, <em>nomem=False</em><big>)</big><a class="headerlink" href="#nansat.Nansat.add_band" title="Permalink to this definition">¶</a></dt>
<dd><p>Add band from the array to self.vrt</p>
<p>Create VRT object which contains VRT and RAW binary file and append it
to self.vrt.subVRTs</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>array</strong> : ndarray</p>
<blockquote>
<div><p>band data</p>
</div></blockquote>
<p><strong>parameters</strong> : dictionary</p>
<blockquote>
<div><p>band metadata: wkv, name, etc. (or for several bands)</p>
</div></blockquote>
<p><strong>nomem</strong> : boolean, saves the vrt to a tempfile if nomem is True</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Modifies:</th><td class="field-body"><p class="first"><strong>Creates VRT object with VRT-file and RAW-file</strong></p>
<p class="last"><strong>Adds band to the self.vrt</strong></p>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<div class="line-block">
<div class="line">add new band from numpy array &lt;a&gt; with metadata &lt;p&gt; in memory</div>
<div class="line">Shape of a should be equal to the shape of &lt;n&gt;</div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">n</span><span class="o">.</span><span class="n">add_band</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">p</span><span class="p">)</span>
</pre></div>
</div>
<div class="line-block">
<div class="line">add new band from an array &lt;a&gt; with metadata &lt;p&gt; but keep it</div>
<div class="line">temporarli on disk intead of memory</div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">n</span><span class="o">.</span><span class="n">add_band</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">p</span><span class="p">,</span> <span class="n">nomem</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="nansat.Nansat.add_bands">
<tt class="descname">add_bands</tt><big>(</big><em>arrays</em>, <em>parameters=None</em>, <em>nomem=False</em><big>)</big><a class="headerlink" href="#nansat.Nansat.add_bands" title="Permalink to this definition">¶</a></dt>
<dd><p>Add band from the array to self.vrt</p>
<p>Create VRT object which contains VRT and RAW binary file and append it
to self.vrt.subVRTs</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>array</strong> : ndarray or list</p>
<blockquote>
<div><p>band data (or data for several bands)</p>
</div></blockquote>
<p><strong>parameters</strong> : dictionary or list</p>
<blockquote>
<div><p>band metadata: wkv, name, etc. (or for several bands)</p>
</div></blockquote>
<p><strong>nomem</strong> : boolean, saves the vrt to a tempfile if nomem is True</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Modifies:</th><td class="field-body"><p class="first last"><strong>self.vrt</strong> : Add bands</p>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<div class="line-block">
<div class="line">add two new bands from numpy arrays &lt;a1&gt; and &lt;a2&gt; with metadata in
&#8216;p1&#8217; and &#8216;p2&#8217;</div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">n</span><span class="o">.</span><span class="n">add_bands</span><span class="p">([</span><span class="n">a1</span><span class="p">,</span> <span class="n">a2</span><span class="p">],</span> <span class="p">[</span><span class="n">p1</span><span class="p">,</span> <span class="n">p2</span><span class="p">])</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="nansat.Nansat.bands">
<tt class="descname">bands</tt><big>(</big><big>)</big><a class="headerlink" href="#nansat.Nansat.bands" title="Permalink to this definition">¶</a></dt>
<dd><p>Make a dictionary with all metadata from all bands</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>b</strong> : dictionary</p>
<blockquote class="last">
<div><p>key = N, value = dict with all band metadata</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="nansat.Nansat.crop">
<tt class="descname">crop</tt><big>(</big><em>xOff=0</em>, <em>yOff=0</em>, <em>xSize=None</em>, <em>ySize=None</em>, <em>lonlim=None</em>, <em>latlim=None</em><big>)</big><a class="headerlink" href="#nansat.Nansat.crop" title="Permalink to this definition">¶</a></dt>
<dd><p>Crop Nansat object</p>
<p>Create superVRT, modify the Source Rectangle (SrcRect) and Destination
Rectangle (DstRect) tags in the VRT file for each band in order
to take only part of the original image,
create new GCPs or new GeoTransform for the cropped object.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>xOff</strong> : int</p>
<blockquote>
<div><p>pixel offset of subimage</p>
</div></blockquote>
<p><strong>yOff</strong> : int</p>
<blockquote>
<div><p>line offset of subimage</p>
</div></blockquote>
<p><strong>xSize</strong> : int</p>
<blockquote>
<div><p>width in pixels of subimage</p>
</div></blockquote>
<p><strong>ySize</strong> : int</p>
<blockquote>
<div><p>height in pizels of subimage</p>
</div></blockquote>
<p><strong>lonlim</strong> : [float, float]</p>
<blockquote>
<div><p>longitdal limits</p>
</div></blockquote>
<p><strong>latlim</strong> : [float, float]</p>
<blockquote>
<div><p>latitudal limits</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Modifies:</th><td class="field-body"><p class="first"><strong>self.vrt</strong> : VRT</p>
<blockquote>
<div><p>superVRT is created with modified SrcRect and DstRect</p>
</div></blockquote>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>status</strong> : int</p>
<blockquote>
<div><div class="line-block">
<div class="line">0 - everyhting is OK, image is cropped</div>
<div class="line">1 - if crop is totally outside, image is NOT cropped</div>
<div class="line">2 - crop area is too large and crop is not needed</div>
</div>
</div></blockquote>
<p><strong>extent</strong> : (xOff, yOff, xSize, ySize)</p>
<blockquote class="last">
<div><div class="line-block">
<div class="line">xOff  - X offset in the original dataset</div>
<div class="line">yOff  - Y offset in the original dataset</div>
<div class="line">xSize - width of the new dataset</div>
<div class="line">ySize - height of the new dataset</div>
</div>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<p>crop a subimage of size 100x200 pix from X/Y offset 10, 20 pix</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">status</span><span class="p">,</span> <span class="n">extent</span> <span class="o">=</span> <span class="n">n</span><span class="o">.</span><span class="n">crop</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">200</span><span class="p">)</span>
</pre></div>
</div>
<p>crop a subimage within the lon/lat limits</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">status</span><span class="p">,</span> <span class="n">extent</span> <span class="o">=</span> <span class="n">n</span><span class="o">.</span><span class="n">crop</span><span class="p">(</span><span class="n">lonlim</span><span class="o">=</span><span class="p">[</span><span class="o">-</span><span class="mi">20</span><span class="p">,</span> <span class="mi">20</span><span class="p">],</span> <span class="n">latlim</span><span class="o">=</span><span class="p">[</span><span class="mi">50</span><span class="p">,</span> <span class="mi">60</span><span class="p">])</span>
</pre></div>
</div>
<p>crop a subimage interactively</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">status</span><span class="p">,</span> <span class="n">extent</span> <span class="o">=</span> <span class="n">n</span><span class="o">.</span><span class="n">crop</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="nansat.Nansat.export">
<tt class="descname">export</tt><big>(</big><em>fileName</em>, <em>bands=None</em>, <em>rmMetadata=[]</em>, <em>addGeolocArray=True</em>, <em>addGCPs=True</em>, <em>driver='netCDF'</em>, <em>bottomup=False</em>, <em>options=None</em><big>)</big><a class="headerlink" href="#nansat.Nansat.export" title="Permalink to this definition">¶</a></dt>
<dd><p>Export Nansat object into netCDF or GTiff file</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>fileName</strong> : str</p>
<blockquote>
<div><p>output file name</p>
</div></blockquote>
<p><strong>bands: list (default=None)</strong></p>
<blockquote>
<div><p>Specify band numbers to export.
If None, all bands are exported.</p>
</div></blockquote>
<p><strong>rmMetadata</strong> : list</p>
<blockquote>
<div><div class="line-block">
<div class="line">metadata names for removal before export.</div>
<div class="line">e.g. [&#8216;name&#8217;, &#8216;colormap&#8217;, &#8216;source&#8217;, &#8216;sourceBands&#8217;]</div>
</div>
</div></blockquote>
<p><strong>addGeolocArray</strong> : bool</p>
<blockquote>
<div><p>add geolocation array datasets to exported file?</p>
</div></blockquote>
<p><strong>addGCPs</strong> : bool</p>
<blockquote>
<div><p>add GCPs to exported file?</p>
</div></blockquote>
<p><strong>driver</strong> : str</p>
<blockquote>
<div><p>Name of GDAL driver (format)</p>
</div></blockquote>
<p><strong>bottomup</strong> : bool</p>
<blockquote>
<div><dl class="docutils">
<dt>False: Write swath-projected data with rows and columns organized</dt>
<dd><p class="first last">as in the original product.</p>
</dd>
</dl>
<p>True:  Use the default behaviour of GDAL, which is to flip the rows</p>
</div></blockquote>
<p><strong>options</strong> : str or list</p>
<blockquote>
<div><p>GDAL export options in format of: &#8216;OPT=VAL&#8217;, or
[&#8216;OPT1=VAL1&#8217;, &#8216;OP2=&#8217;VAL2&#8217;]
See also <a class="reference external" href="http://www.gdal.org/frmt_netcdf.html">http://www.gdal.org/frmt_netcdf.html</a></p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Modifies:</th><td class="field-body"><p class="first last"><strong>netCDF file</strong> : Create a netCDF file</p>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Notes</p>
<div class="line-block">
<div class="line">If number of bands is more than one,
serial numbers are added at the end of each band name.</div>
</div>
<div class="line-block">
<div class="line">It is possible to fix it by changing</div>
<div class="line">line.4605 in GDAL/frmts/netcdf/netcdfdataset.cpp :</div>
<div class="line">&#8216;if( nBands &gt; 1 ) sprintf(szBandName,&#8221;%s%d&#8221;,tmpMetadata,iBand);&#8217;</div>
<div class="line">&#8211;&gt; &#8216;if( nBands &gt; 1 ) sprintf(szBandName,&#8221;%s&#8221;,tmpMetadata);&#8217;</div>
</div>
<div class="line-block">
<div class="line">CreateCopy fails in case the band name has special characters,
e.g. the slash in &#8216;HH/VV&#8217;.</div>
</div>
<p class="rubric">Examples</p>
<p>export all the bands into a netDCF 3 file</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">n</span><span class="o">.</span><span class="n">export</span><span class="p">(</span><span class="n">netcdfile</span><span class="p">)</span>
</pre></div>
</div>
<p>export all bands into a GeoTiff</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">n</span><span class="o">.</span><span class="n">export</span><span class="p">(</span><span class="n">driver</span><span class="o">=</span><span class="s">&#39;GTiff&#39;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="nansat.Nansat.export2thredds">
<tt class="descname">export2thredds</tt><big>(</big><em>fileName</em>, <em>bands=None</em>, <em>metadata=None</em>, <em>maskName=None</em>, <em>rmMetadata=[]</em>, <em>time=None</em>, <em>createdTime=None</em><big>)</big><a class="headerlink" href="#nansat.Nansat.export2thredds" title="Permalink to this definition">¶</a></dt>
<dd><p>Export data into a netCDF formatted for THREDDS server</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>fileName</strong> : str</p>
<blockquote>
<div><p>output file name</p>
</div></blockquote>
<p><strong>bands</strong> : dict</p>
<blockquote>
<div><div class="line-block">
<div class="line">{&#8216;band_name&#8217;: {&#8216;type&#8217;     : &#8216;&gt;i1&#8217;,</div>
<div class="line-block">
<div class="line">&#8216;scale&#8217;    : 0.1,</div>
<div class="line-block">
<div class="line">&#8216;offset&#8217;   : 1000,</div>
<div class="line-block">
<div class="line">&#8216;metaKey1&#8217; : &#8216;meta value 1&#8217;,</div>
<div class="line">&#8216;metaKey2&#8217; : &#8216;meta value 2&#8217;}}</div>
</div>
</div>
</div>
<div class="line">dictionary sets parameters for band creation</div>
<div class="line">&#8216;type&#8217; - string representation of data type in the output band</div>
<div class="line">&#8216;scale&#8217; - sets scale_factor and applies scaling</div>
<div class="line">&#8216;offset&#8217; - sets &#8216;scale_offset and applies offsetting</div>
<div class="line">other entries (e.g. &#8216;units&#8217;: &#8216;K&#8217;) set other metadata</div>
</div>
</div></blockquote>
<p><strong>metadata</strong> : dict</p>
<blockquote>
<div><p>Glbal metadata to add</p>
</div></blockquote>
<p><strong>maskName: string;</strong></p>
<blockquote>
<div><div class="line-block">
<div class="line">if data include a mask band: give the mask name.</div>
<div class="line">Non-masked value is 64.</div>
<div class="line">if None: no mask is added</div>
</div>
</div></blockquote>
<p><strong>rmMetadata</strong> : list</p>
<blockquote>
<div><p>unwanted metadata names which will be removed</p>
</div></blockquote>
<p><strong>time</strong> : list with datetime objects</p>
<blockquote>
<div><p>aqcuisition time of original data. That value will be in time dim</p>
</div></blockquote>
<p><strong>createdTime</strong> : datetime</p>
<blockquote class="last">
<div><p>date of creation. Will be in metadata &#8216;created&#8217;</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Notes</p>
<p>Nansat object (self) has to be projected (with valid GeoTransform and
valid Spatial reference information) but not wth GCPs</p>
<p class="rubric">Examples</p>
<p>create THREDDS formatted netcdf file with all bands and time variable</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">n</span><span class="o">.</span><span class="n">export2thredds</span><span class="p">(</span><span class="n">filename</span><span class="p">)</span>
</pre></div>
</div>
<p>export only the first band and add global metadata</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">n</span><span class="o">.</span><span class="n">export2thredds</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span> <span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="p">{</span><span class="s">&#39;description&#39;</span><span class="p">:</span> <span class="s">&#39;example&#39;</span><span class="p">})</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="nansat.Nansat.get_GDALRasterBand">
<tt class="descname">get_GDALRasterBand</tt><big>(</big><em>bandID=1</em><big>)</big><a class="headerlink" href="#nansat.Nansat.get_GDALRasterBand" title="Permalink to this definition">¶</a></dt>
<dd><p>Get a GDALRasterBand of a given Nansat object</p>
<div class="line-block">
<div class="line">If str is given find corresponding band number</div>
<div class="line">If int is given check if band with this number exists.</div>
<div class="line">Get a GDALRasterBand from vrt.</div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>bandID</strong> : serial number or string, optional (default is 1)</p>
<blockquote>
<div><div class="line-block">
<div class="line">if number - a band number of the band to fetch</div>
<div class="line">if string bandID = {&#8216;name&#8217;: bandID}</div>
</div>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><strong>GDAL RasterBand</strong> : GDAL RasterBand</p>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">b</span> <span class="o">=</span> <span class="n">n</span><span class="o">.</span><span class="n">get_GDALRasterBand</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">b</span> <span class="o">=</span> <span class="n">n</span><span class="o">.</span><span class="n">get_GDALRasterBand</span><span class="p">(</span><span class="s">&#39;sigma0&#39;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="nansat.Nansat.get_metadata">
<tt class="descname">get_metadata</tt><big>(</big><em>key=None</em>, <em>bandID=None</em><big>)</big><a class="headerlink" href="#nansat.Nansat.get_metadata" title="Permalink to this definition">¶</a></dt>
<dd><p>Get metadata from self.vrt.dataset</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>key</strong> : string, optional</p>
<blockquote>
<div><p>name of the metadata key. If not givem all metadata is returned</p>
</div></blockquote>
<p><strong>bandID</strong> : int or str, optional</p>
<blockquote>
<div><div class="line-block">
<div class="line">number or name of band to get metadata from.</div>
<div class="line">If not given, global metadata is returned</div>
</div>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>string</strong> : a string with metadata if key is given and found</p>
<p><strong>empty string</strong> : an empty string if key is given and not found</p>
<p class="last"><strong>dictionary</strong> : a dictionary with all metadata if key is not given</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="nansat.Nansat.get_time">
<tt class="descname">get_time</tt><big>(</big><em>bandID=None</em><big>)</big><a class="headerlink" href="#nansat.Nansat.get_time" title="Permalink to this definition">¶</a></dt>
<dd><p>Get time for dataset and/or its bands</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>bandID</strong> : int or str (default = None)</p>
<blockquote>
<div><p>band number or name</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>time</strong> : list with datetime objects for each band.</p>
<blockquote class="last">
<div><p>If time is the same for all bands, the list contains 1 item</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="nansat.Nansat.get_transect">
<tt class="descname">get_transect</tt><big>(</big><em>points=None, bandList=[1], latlon=True, returnOGR=False, layerNum=0, smoothRadius=0, smoothAlg=0, transect=True, onlypixline=False, **kwargs</em><big>)</big><a class="headerlink" href="#nansat.Nansat.get_transect" title="Permalink to this definition">¶</a></dt>
<dd><p>Get transect from two poins and retun the values by numpy array</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>points</strong> : list with one or more points or shape file name</p>
<blockquote>
<div><div class="line-block">
<div class="line">i.e. [</div>
<div class="line-block">
<div class="line-block">
<div class="line"># get all transect values</div>
<div class="line">[(lon_T1, lat_T1), (lon_T2, lat_T2), (lon_T3, lat_T3), ...]</div>
<div class="line"># get point values</div>
<div class="line">(lon_P1, lat_P1), (lon_P2, lat_P2), ...</div>
</div>
<div class="line">]</div>
<div class="line">or</div>
<div class="line">[</div>
<div class="line-block">
<div class="line"># get all transect values</div>
<div class="line">[(col_T1, row_T1), (col_T2, row_T2), (col_T3, row_T3), ...],</div>
<div class="line"># get point values</div>
<div class="line">(col_P1, row_P1), (col_P2, row_P2), ...</div>
</div>
<div class="line">]</div>
</div>
</div>
</div></blockquote>
<p><strong>bandList</strong> : list of int or string</p>
<blockquote>
<div><p>elements of the list are band number or band Name</p>
</div></blockquote>
<p><strong>latlon</strong> : bool</p>
<blockquote>
<div><div class="line-block">
<div class="line">If the points in lat/lon, then True.</div>
<div class="line">If the points in pixel/line, then False.</div>
</div>
</div></blockquote>
<p><strong>returnOGR: bool</strong></p>
<blockquote>
<div><div class="line-block">
<div class="line">If True, then return numpy array</div>
<div class="line">If False, return OGR object</div>
</div>
</div></blockquote>
<p><strong>layerNum: int</strong></p>
<blockquote>
<div><p>If shapefile is given as points, it is the number of the layer</p>
</div></blockquote>
<p><strong>smoothRadius: int</strong></p>
<blockquote>
<div><p>If smootRadius is greater than 0, smooth every transect
pixel as the median or mean value in a circule with radius
equal to the given number.</p>
</div></blockquote>
<p><strong>smoothAlg: 0 or 1 for median or mean</strong></p>
<p><strong>transect</strong> : bool</p>
<blockquote>
<div><div class="line-block">
<div class="line">used if a shape file name is given as the input.</div>
<div class="line">If True, return the transect. If False, return the points.</div>
</div>
</div></blockquote>
<p><strong>vmin, vmax</strong> : int (optional)</p>
<blockquote>
<div><div class="line-block">
<div class="line">minimum and maximum pixel values of an image shown
in case points is None.</div>
</div>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>transect</strong> : OGR object with points coordinates and values</p>
<blockquote>
<div><p>(if returnOGR = True)</p>
</div></blockquote>
<p><strong>transectDict</strong> : dictionary (if returnOGR = False)</p>
<blockquote>
<div><p>key is band name.
Value is a dictionary of the transect values of each shape.</p>
</div></blockquote>
<p><strong>vectorsDict</strong> : dictionary (if returnOGR = False)</p>
<blockquote>
<div><p>keys are shape ID. values are dictionaries
with longitude and latitude lists of each shape.</p>
</div></blockquote>
<p><strong>pixlinCoordDic</strong> : dictionary (if returnOGR = False)</p>
<blockquote class="last">
<div><p>keys are shape ID. values are numpy array
with pixels and lines coordinates</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Notes</p>
<p>If points are given from GUI,
it is possible to select multiple shapes by pressing any key</p>
</dd></dl>

<dl class="method">
<dt id="nansat.Nansat.has_band">
<tt class="descname">has_band</tt><big>(</big><em>band</em><big>)</big><a class="headerlink" href="#nansat.Nansat.has_band" title="Permalink to this definition">¶</a></dt>
<dd><p>Check if self has band with name &lt;band&gt;</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>band</strong> : str</p>
<blockquote>
<div><p>name of the band to check</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><strong>bool</strong> : if band exists or not</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="nansat.Nansat.list_bands">
<tt class="descname">list_bands</tt><big>(</big><em>doPrint=True</em><big>)</big><a class="headerlink" href="#nansat.Nansat.list_bands" title="Permalink to this definition">¶</a></dt>
<dd><p>Show band information of the given Nansat object</p>
<p>Show serial number, longName, name and all parameters
for each band in the metadata of the given Nansat object.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>doPrint</strong> : boolean, optional, default=True</p>
<blockquote>
<div><p>do print, otherwise it is returned as string</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>outString</strong> : String</p>
<blockquote class="last">
<div><p>formatted string with bands info</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="nansat.Nansat.reproject">
<tt class="descname">reproject</tt><big>(</big><em>dstDomain=None</em>, <em>eResampleAlg=0</em>, <em>blockSize=None</em>, <em>WorkingDataType=None</em>, <em>tps=None</em>, <em>**kwargs</em><big>)</big><a class="headerlink" href="#nansat.Nansat.reproject" title="Permalink to this definition">¶</a></dt>
<dd><p>Change projection of the object based on the given Domain</p>
<div class="line-block">
<div class="line">Create superVRT from self.vrt with AutoCreateWarpedVRT() using
projection from the dstDomain.</div>
<div class="line">Modify XML content of the warped vrt using the Domain parameters.</div>
<div class="line">Generate warpedVRT and replace self.vrt with warpedVRT.</div>
<div class="line">If current object spans from 0 to 360 and dstDomain is west of 0,
the object is shifted by 180 westwards.</div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>dstDomain</strong> : domain</p>
<blockquote>
<div><p>destination Domain where projection and resolution are set</p>
</div></blockquote>
<p><strong>eResampleAlg</strong> : int (GDALResampleAlg)</p>
<blockquote>
<div><div class="line-block">
<div class="line">0 : NearestNeighbour</div>
<div class="line">1 : Bilinear</div>
<div class="line">2 : Cubic,</div>
<div class="line">3 : CubicSpline</div>
<div class="line">4 : Lancoz</div>
</div>
</div></blockquote>
<p><strong>blockSize</strong> : int</p>
<blockquote>
<div><p>size of blocks for resampling. Large value decrease speed
but increase accuracy at the edge</p>
</div></blockquote>
<p><strong>WorkingDataType</strong> : int (GDT_int, ...)</p>
<blockquote>
<div><p>type of data in bands. Shuold be integer for int32 bands</p>
</div></blockquote>
<p><strong>tps</strong> : bool</p>
<blockquote>
<div><div class="line-block">
<div class="line">Apply Thin Spline Transformation if source or destination has GCPs</div>
<div class="line">Usage of TPS can also be triggered by setting self.vrt.tps=True
before calling to reproject.</div>
<div class="line">This options has priority over self.vrt.tps</div>
</div>
</div></blockquote>
<p><strong>skip_gcps</strong> : int</p>
<blockquote>
<div><div class="line-block">
<div class="line">Using TPS can be very slow if the number of GCPs are large.</div>
<div class="line">If this parameter is given, only every [skip_gcp] GCP is used,
improving calculation time at the cost of accuracy.</div>
<div class="line">If not given explicitly, &#8216;skip_gcps&#8217; is fetched from the
metadata of self, or from dstDomain (as set by mapper or user).</div>
<div class="line">[defaults to 1 if not specified, i.e. using all GCPs]</div>
</div>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Modifies:</th><td class="field-body"><p class="first last"><strong>self.vrt</strong> : VRT object with dataset replaced to warpedVRT dataset</p>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Notes</p>
<div class="line-block">
<div class="line">Integer data is returnd by integer. Round off to decimal place.</div>
<div class="line">If you do not want to round off, convert the data types
to GDT_Float32, GDT_Float64, or GDT_CFloat32.</div>
</div>
<p>see also : <a class="reference external" href="http://www.gdal.org/gdalwarp.html">http://www.gdal.org/gdalwarp.html</a></p>
</dd></dl>

<dl class="method">
<dt id="nansat.Nansat.resize">
<tt class="descname">resize</tt><big>(</big><em>factor=1</em>, <em>width=None</em>, <em>height=None</em>, <em>pixelsize=None</em>, <em>eResampleAlg=-1</em><big>)</big><a class="headerlink" href="#nansat.Nansat.resize" title="Permalink to this definition">¶</a></dt>
<dd><p>Proportional resize of the dataset.</p>
<div class="line-block">
<div class="line">The dataset is resized as (xSize*factor, ySize*factor)</div>
<div class="line">If desired width, height or pixelsize is specified,
the scaling factor is calculated accordingly.</div>
<div class="line">If GCPs are given in a dataset, they are also rewritten.</div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>factor</strong> : float, optional, default=1</p>
<blockquote>
<div><div class="line-block">
<div class="line">Scaling factor for width and height</div>
<div class="line">&gt; 1 means increasing domain size</div>
<div class="line">&lt; 1 means decreasing domain size</div>
</div>
</div></blockquote>
<p><strong>width</strong> : int, optional</p>
<blockquote>
<div><div class="line-block">
<div class="line">Desired new width in pixels</div>
</div>
</div></blockquote>
<p><strong>height</strong> : int, optional</p>
<blockquote>
<div><div class="line-block">
<div class="line">Desired new height in pixels</div>
</div>
</div></blockquote>
<p><strong>pixelsize</strong> : float, optional</p>
<blockquote>
<div><div class="line-block">
<div class="line">Desired new pixelsize in meters (approximate).</div>
<div class="line">A factor is calculated from ratio of the
current pixelsize to the desired pixelsize.</div>
</div>
</div></blockquote>
<p><strong>eResampleAlg</strong> : int (GDALResampleAlg), optional</p>
<blockquote>
<div><div class="line-block">
<div class="line">-1 : Average (default),</div>
<div class="line">0 : NearestNeighbour</div>
<div class="line">1 : Bilinear,</div>
<div class="line">2 : Cubic,</div>
<div class="line">3 : CubicSpline,</div>
<div class="line">4 : Lancoz</div>
</div>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Modifies:</th><td class="field-body"><p class="first"><strong>self.vrt.dataset</strong> : VRT dataset of VRT object</p>
<blockquote class="last">
<div><div class="line-block">
<div class="line">raster size are modified to downscaled size.</div>
<div class="line">If GCPs are given in the dataset, they are also overwritten.</div>
</div>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="nansat.Nansat.set_metadata">
<tt class="descname">set_metadata</tt><big>(</big><em>key=''</em>, <em>value=''</em>, <em>bandID=None</em><big>)</big><a class="headerlink" href="#nansat.Nansat.set_metadata" title="Permalink to this definition">¶</a></dt>
<dd><p>Set metadata to self.vrt.dataset</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>key</strong> : string or dictionary with strings</p>
<blockquote>
<div><p>name of the metadata, or dictionary with metadata names, values</p>
</div></blockquote>
<p><strong>value</strong> : string</p>
<blockquote>
<div><p>value of metadata</p>
</div></blockquote>
<p><strong>bandID</strong> : int or str</p>
<blockquote>
<div><p>number or name of band
Without : global metadata is set</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Modifies:</th><td class="field-body"><p class="first last"><strong>self.vrt.dataset</strong> : sets metadata in GDAL current dataset</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="nansat.Nansat.undo">
<tt class="descname">undo</tt><big>(</big><em>steps=1</em><big>)</big><a class="headerlink" href="#nansat.Nansat.undo" title="Permalink to this definition">¶</a></dt>
<dd><p>Undo reproject, resize, add_band or crop of Nansat object</p>
<p>Restore the self.vrt from self.vrt.vrt</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>steps</strong> : int</p>
<blockquote>
<div><p>How many steps back to undo</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Modifies:</th><td class="field-body"><p class="first last"><strong>self.vrt</strong> : vrt object</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="nansat.Nansat.watermask">
<tt class="descname">watermask</tt><big>(</big><em>mod44path=None</em>, <em>dstDomain=None</em>, <em>**kwargs</em><big>)</big><a class="headerlink" href="#nansat.Nansat.watermask" title="Permalink to this definition">¶</a></dt>
<dd><p>Create numpy array with watermask (water=1, land=0)</p>
<div class="line-block">
<div class="line">250 meters resolution watermask from MODIS 44W Product:</div>
<div class="line"><a class="reference external" href="http://www.glcf.umd.edu/data/watermask/">http://www.glcf.umd.edu/data/watermask/</a></div>
</div>
<div class="line-block">
<div class="line">Watermask is stored as tiles in TIF(LZW) format and a VRT file</div>
<div class="line">All files are stored in one directory.</div>
<div class="line">A tarball with compressed TIF and VRT files should be additionally
downloaded from the Nansat wiki:</div>
<div class="line"><a class="reference external" href="https://svn.nersc.no/nansat/wiki/Nansat/Data/Watermask">https://svn.nersc.no/nansat/wiki/Nansat/Data/Watermask</a></div>
</div>
<dl class="docutils">
<dt>The method :</dt>
<dd><div class="first last line-block">
<div class="line">Gets the directory either from input parameter or from environment</div>
<div class="line">variable MOD44WPATH</div>
<div class="line">Open Nansat object from the VRT file</div>
<div class="line">Reprojects the watermask onto the current object using reproject()
or reproject_on_jcps()</div>
<div class="line">Returns the reprojected Nansat object</div>
</div>
</dd>
</dl>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>mod44path</strong> : string, optional, default=None</p>
<blockquote>
<div><p>path with MOD44W Products and a VRT file</p>
</div></blockquote>
<p><strong>dstDomain</strong> : Domain</p>
<blockquote>
<div><p>destination domain other than self</p>
</div></blockquote>
<p><strong>tps</strong> : Bool</p>
<blockquote>
<div><p>Use Thin Spline Transformation in reprojection of watermask?
See also Nansat.reproject()</p>
</div></blockquote>
<p><strong>skip_gcps</strong> : int</p>
<blockquote>
<div><p>Factor to reduce the number of GCPs by and increase speed
See also Nansat.reproject()</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><strong>watermask</strong> : Nansat object with water mask in current projection</p>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Notes</p>
<div class="line-block">
<div class="line">250 meters resolution watermask from MODIS 44W Product:</div>
<div class="line"><a class="reference external" href="http://www.glcf.umd.edu/data/watermask/">http://www.glcf.umd.edu/data/watermask/</a></div>
</div>
</dd></dl>

<dl class="method">
<dt id="nansat.Nansat.write_figure">
<tt class="descname">write_figure</tt><big>(</big><em>fileName=None</em>, <em>bands=1</em>, <em>clim=None</em>, <em>addDate=False</em>, <em>**kwargs</em><big>)</big><a class="headerlink" href="#nansat.Nansat.write_figure" title="Permalink to this definition">¶</a></dt>
<dd><p>Save a raster band to a figure in graphical format.</p>
<div class="line-block">
<div class="line">Get numpy array from the band(s) and band information specified
either by given band number or band id.</div>
<div class="line-block">
<div class="line">If three bands are given, merge them and create PIL image.</div>
<div class="line">If one band is given, create indexed image</div>
</div>
<div class="line">Create Figure object and:</div>
<div class="line">Adjust the array brightness and contrast using the given min/max or
histogram.</div>
<div class="line">Apply logarithmic scaling of color tone.</div>
<div class="line">Generate and append legend.</div>
<div class="line">Save the PIL output image in PNG or any other graphical format.</div>
<div class="line">If the filename extension is &#8216;tif&#8217;, the figure file is converted
to GeoTiff</div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>fileName</strong> : string, optional</p>
<blockquote>
<div><div class="line-block">
<div class="line">Output file name. if one of extensions &#8216;png&#8217;, &#8216;PNG&#8217;, &#8216;tif&#8217;,
&#8216;TIF&#8217;, &#8216;bmp&#8217;, &#8216;BMP&#8217;, &#8216;jpg&#8217;, &#8216;JPG&#8217;, &#8216;jpeg&#8217;, &#8216;JPEG&#8217; is included,
specified file is crated. otherwise, &#8216;png&#8217; file is created.</div>
<div class="line">if None, the figure object is returned.</div>
<div class="line">if True, the figure is shown</div>
</div>
</div></blockquote>
<p><strong>bands</strong> : integer or string or list (elements are integer or string),</p>
<blockquote>
<div><div class="line-block">
<div class="line">default = 1</div>
<div class="line">the size of the list has to be 1 or 3.</div>
<div class="line">if the size is 3, RGB image is created based on the three bands.</div>
<div class="line">Then the first element is Red, the second is Green,
and the third is Blue.</div>
</div>
</div></blockquote>
<p><strong>clim</strong> : list with two elements or &#8216;hist&#8217; to specify range of colormap</p>
<blockquote>
<div><div class="line-block">
<div class="line">None (default) : min/max values are fetched from WKV,
fallback-&#8216;hist&#8217;</div>
<div class="line">[min, max] : min and max are numbers, or
[[min, min, min], [max, max, max]]: three bands used</div>
<div class="line">&#8216;hist&#8217; : a histogram is used to calculate min and max values</div>
</div>
</div></blockquote>
<p><strong>addDate</strong> : boolean</p>
<blockquote>
<div><div class="line-block">
<div class="line">False (default) : no date will be aded to the caption</div>
<div class="line">True : the first time of the object will be added to the caption</div>
</div>
</div></blockquote>
<p><strong>**kwargs</strong> : parameters for Figure().</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Modifies:</th><td class="field-body"><p class="first"><strong>image file</strong> : creates image file, if fileName is specified</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><strong>Figure object</strong> : Figure object</p>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Notes</p>
<div class="line-block">
<div class="line">see alos: Figure()</div>
<div class="line"><a class="reference external" href="http://www.scipy.org/Cookbook/Matplotlib/Show_colormaps">http://www.scipy.org/Cookbook/Matplotlib/Show_colormaps</a></div>
</div>
<p class="rubric">Examples</p>
<div class="line-block">
<div class="line">write only indexed image, color limits from WKV or from histogram</div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">n</span><span class="o">.</span><span class="n">write_figure</span><span class="p">(</span><span class="s">&#39;test.jpg&#39;</span><span class="p">)</span>
</pre></div>
</div>
<div class="line-block">
<div class="line">write only RGB image, color limits from histogram</div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">n</span><span class="o">.</span><span class="n">write_figure</span><span class="p">(</span><span class="s">&#39;test_rgb_hist.jpg&#39;</span><span class="p">,</span> <span class="n">clim</span><span class="o">=</span><span class="s">&#39;hist&#39;</span><span class="p">,</span> <span class="n">bands</span><span class="o">=</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">])</span>
</pre></div>
</div>
<div class="line-block">
<div class="line">write indexed image, apply log scaling and gamma correction,
add legend and type in title &#8216;Title&#8217;, increase font size and put 15
tics</div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">n</span><span class="o">.</span><span class="n">write_figure</span><span class="p">(</span><span class="s">&#39;r09_log3_leg.jpg&#39;</span><span class="p">,</span> <span class="n">logarithm</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">legend</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>                       <span class="n">gamma</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">titleString</span><span class="o">=</span><span class="s">&#39;Title&#39;</span><span class="p">,</span> <span class="n">fontSize</span><span class="o">=</span><span class="mi">30</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>                       <span class="n">numOfTicks</span><span class="o">=</span><span class="mi">15</span><span class="p">)</span>
</pre></div>
</div>
<div class="line-block">
<div class="line">write an image to png with transparent Mask set to color
transparency=[0,0,0], following PIL alpha mask</div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">n</span><span class="o">.</span><span class="n">write_figure</span><span class="p">(</span><span class="n">fileName</span><span class="o">=</span><span class="s">&#39;transparent.png&#39;</span><span class="p">,</span> <span class="n">bands</span><span class="o">=</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span>
<span class="gp">&gt;&gt;&gt; </span>      <span class="n">mask_array</span><span class="o">=</span><span class="n">wmArray</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>      <span class="n">mask_lut</span><span class="o">=</span><span class="p">{</span><span class="mi">0</span><span class="p">:</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">]},</span>
<span class="gp">&gt;&gt;&gt; </span>      <span class="n">clim</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mf">0.15</span><span class="p">],</span> <span class="n">cmapName</span><span class="o">=</span><span class="s">&#39;gray&#39;</span><span class="p">,</span> <span class="n">transparency</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">])</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="nansat.Nansat.write_geotiffimage">
<tt class="descname">write_geotiffimage</tt><big>(</big><em>fileName</em>, <em>bandID=1</em><big>)</big><a class="headerlink" href="#nansat.Nansat.write_geotiffimage" title="Permalink to this definition">¶</a></dt>
<dd><p>Writes an 8-bit GeoTiff image for a given band.</p>
<div class="line-block">
<div class="line">The output GeoTiff image is convenient e.g. for display in a GIS tool.</div>
<div class="line">Colormap is fetched from the metadata item &#8216;colormap&#8217;.</div>
<div class="line-block">
<div class="line">Fallback colormap is &#8216;jet&#8217;.</div>
</div>
<div class="line">Color limits are fetched from the metadata item &#8216;minmax&#8217;.</div>
<div class="line-block">
<div class="line">If &#8216;minmax&#8217; is not specified, min and max of raster is used.</div>
</div>
</div>
<div class="line-block">
<div class="line">The method can be replaced by using nansat.write_figure(),
however, write_figure uses PIL which does not allow</div>
<div class="line">Tiff compression, giving much larger files</div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>fileName</strong> : string</p>
<p class="last"><strong>bandID</strong> : integer or string(default = 1)</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="nansat.Figure">
<em class="property">class </em><tt class="descclassname">nansat.</tt><tt class="descname">Figure</tt><big>(</big><em>nparray</em>, <em>**kwargs</em><big>)</big><a class="headerlink" href="#nansat.Figure" title="Permalink to this definition">¶</a></dt>
<dd><p>Perform opeartions with graphical files: create, append legend, save.</p>
<p>Figure instance is created in the Nansat.write_figure method</p>
<p>The methods below are applied consequently in order to generate a figure
from one or three bands, estimate min/max, apply logarithmic scaling,
convert to uint8, append legend, save to a file</p>
<dl class="attribute">
<dt id="nansat.Figure.CAPTION_LOCATION_X">
<tt class="descname">CAPTION_LOCATION_X</tt><em class="property"> = 0.1</em><a class="headerlink" href="#nansat.Figure.CAPTION_LOCATION_X" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="nansat.Figure.CAPTION_LOCATION_Y">
<tt class="descname">CAPTION_LOCATION_Y</tt><em class="property"> = 0.25</em><a class="headerlink" href="#nansat.Figure.CAPTION_LOCATION_Y" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="nansat.Figure.CBAR_HEIGHT">
<tt class="descname">CBAR_HEIGHT</tt><em class="property"> = 0.15</em><a class="headerlink" href="#nansat.Figure.CBAR_HEIGHT" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="nansat.Figure.CBAR_HEIGHTMIN">
<tt class="descname">CBAR_HEIGHTMIN</tt><em class="property"> = 5</em><a class="headerlink" href="#nansat.Figure.CBAR_HEIGHTMIN" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="nansat.Figure.CBAR_LOCATION_X">
<tt class="descname">CBAR_LOCATION_X</tt><em class="property"> = 0.1</em><a class="headerlink" href="#nansat.Figure.CBAR_LOCATION_X" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="nansat.Figure.CBAR_LOCATION_Y">
<tt class="descname">CBAR_LOCATION_Y</tt><em class="property"> = 0.5</em><a class="headerlink" href="#nansat.Figure.CBAR_LOCATION_Y" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="nansat.Figure.CBAR_WIDTH">
<tt class="descname">CBAR_WIDTH</tt><em class="property"> = 0.8</em><a class="headerlink" href="#nansat.Figure.CBAR_WIDTH" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="nansat.Figure.CBTICK_LOC_ADJUST_X">
<tt class="descname">CBTICK_LOC_ADJUST_X</tt><em class="property"> = 5</em><a class="headerlink" href="#nansat.Figure.CBTICK_LOC_ADJUST_X" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="nansat.Figure.CBTICK_LOC_ADJUST_Y">
<tt class="descname">CBTICK_LOC_ADJUST_Y</tt><em class="property"> = 3</em><a class="headerlink" href="#nansat.Figure.CBTICK_LOC_ADJUST_Y" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="nansat.Figure.DEFAULT_EXTENSION">
<tt class="descname">DEFAULT_EXTENSION</tt><em class="property"> = '.png'</em><a class="headerlink" href="#nansat.Figure.DEFAULT_EXTENSION" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="nansat.Figure.LEGEND_HEIGHT">
<tt class="descname">LEGEND_HEIGHT</tt><em class="property"> = 0.1</em><a class="headerlink" href="#nansat.Figure.LEGEND_HEIGHT" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="nansat.Figure.TITLE_LOCATION_X">
<tt class="descname">TITLE_LOCATION_X</tt><em class="property"> = 0.1</em><a class="headerlink" href="#nansat.Figure.TITLE_LOCATION_X" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="nansat.Figure.TITLE_LOCATION_Y">
<tt class="descname">TITLE_LOCATION_Y</tt><em class="property"> = 0.05</em><a class="headerlink" href="#nansat.Figure.TITLE_LOCATION_Y" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="nansat.Figure.add_latlon_grids">
<tt class="descname">add_latlon_grids</tt><big>(</big><em>**kwargs</em><big>)</big><a class="headerlink" href="#nansat.Figure.add_latlon_grids" title="Permalink to this definition">¶</a></dt>
<dd><p>Add lat/lon grid lines into the PIL image</p>
<div class="line-block">
<div class="line">Compute step of the grid</div>
<div class="line">Make matrices with binarized lat/lon</div>
<div class="line">Find edge (make line)</div>
<div class="line">Convert to maks</div>
<div class="line">Add mask to PIL</div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>**kwargs</strong> : dictionary</p>
<blockquote>
<div><p>Any of Figure__init__() parameters</p>
</div></blockquote>
<p><strong>latGrid</strong> : numpy array</p>
<blockquote>
<div><p>array with values of latitudes</p>
</div></blockquote>
<p><strong>lonGrid</strong> : numpy array</p>
<blockquote>
<div><p>array with values of longitudes</p>
</div></blockquote>
<p><strong>nGridLines</strong> : int</p>
<blockquote>
<div><p>number of lines to draw</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Modifies:</th><td class="field-body"><p class="first last"><strong>self.pilImg</strong> : pilImg</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="nansat.Figure.add_latlon_labels">
<tt class="descname">add_latlon_labels</tt><big>(</big><em>**kwargs</em><big>)</big><a class="headerlink" href="#nansat.Figure.add_latlon_labels" title="Permalink to this definition">¶</a></dt>
<dd><p>Add lat/lon labels along upper and left side</p>
<div class="line-block">
<div class="line">Compute step of lables</div>
<div class="line">Get lat/lon for these labels from latGrid, lonGrid</div>
<div class="line">Print lables to PIL</div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>**kwargs</strong> : dictionary</p>
<blockquote>
<div><p>Any of Figure__init__() parameters</p>
</div></blockquote>
<p><strong>latGrid</strong> : numpy array</p>
<p><strong>lonGrid</strong> : numpy array</p>
<p><strong>latlonLabels</strong> : int</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Modifies:</th><td class="field-body"><p class="first last"><strong>self.pilImg</strong> : pilImg</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="nansat.Figure.add_logo">
<tt class="descname">add_logo</tt><big>(</big><em>**kwargs</em><big>)</big><a class="headerlink" href="#nansat.Figure.add_logo" title="Permalink to this definition">¶</a></dt>
<dd><p>Insert logo into the PIL image</p>
<div class="line-block">
<div class="line">Read logo from file as PIL</div>
<div class="line">Resize to the given size</div>
<div class="line">Pan using the given location</div>
<div class="line">Paste into pilImg</div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>**kwargs</strong> : dictionary</p>
<blockquote>
<div><p>Any of Figure__init__() parameters</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Modifies:</th><td class="field-body"><p class="first last"><strong>self.pilImg</strong> : pilImg</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="nansat.Figure.apply_logarithm">
<tt class="descname">apply_logarithm</tt><big>(</big><em>**kwargs</em><big>)</big><a class="headerlink" href="#nansat.Figure.apply_logarithm" title="Permalink to this definition">¶</a></dt>
<dd><p>Apply a tone curve to the array</p>
<div class="line-block">
<div class="line">After the normalization of the values from 0 to 1,
logarithm is applied</div>
<div class="line">Then the values are converted to the normal scale.</div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>**kwargs</strong> : dictionary</p>
<blockquote>
<div><p>Any of Figure__init__() parameters</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Modifies:</th><td class="field-body"><p class="first last"><strong>self.array</strong> : numpy array</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="nansat.Figure.apply_mask">
<tt class="descname">apply_mask</tt><big>(</big><em>**kwargs</em><big>)</big><a class="headerlink" href="#nansat.Figure.apply_mask" title="Permalink to this definition">¶</a></dt>
<dd><p>Apply mask for coloring land, clouds, etc</p>
<div class="line-block">
<div class="line">If mask_array and mask_lut are provided as input parameters</div>
<div class="line">The pixels in self.array which have index equal to mask_lut kay
in mask_array will have color equal to mask_lut value</div>
</div>
<div class="line-block">
<div class="line">apply_mask should be called only after convert_palettesize
(i.e. to uint8 data)</div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>**kwargs</strong> : dictionary</p>
<blockquote>
<div><p>Any of Figure__init__() parameters</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Modifies:</th><td class="field-body"><p class="first last"><strong>self.array</strong> : numpy array</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="nansat.Figure.caption">
<tt class="descname">caption</tt><em class="property"> = ''</em><a class="headerlink" href="#nansat.Figure.caption" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="nansat.Figure.clim_from_histogram">
<tt class="descname">clim_from_histogram</tt><big>(</big><em>**kwargs</em><big>)</big><a class="headerlink" href="#nansat.Figure.clim_from_histogram" title="Permalink to this definition">¶</a></dt>
<dd><p>Estimate min and max pixel values from histogram</p>
<div class="line-block">
<div class="line">if ratio=1.0, simply the minimum and maximum values are returned.</div>
<div class="line">if 0 &lt; ratio &lt; 1.0, get the histogram of the pixel values.</div>
<div class="line">Then get rid of (1.0-ratio)/2 from the both sides and
return the minimum and maximum values.</div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>**kwargs</strong> : dictionary</p>
<blockquote>
<div><p>Any of Figure__init__() parameters</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>clim</strong> : numpy array 2D ((3x2) or (1x2))</p>
<blockquote class="last">
<div><p>minimum and maximum pixel values for each band</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="nansat.Figure.clip">
<tt class="descname">clip</tt><big>(</big><em>**kwargs</em><big>)</big><a class="headerlink" href="#nansat.Figure.clip" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert self.array to values between cmin and cmax</p>
<div class="line-block">
<div class="line">if pixel value &lt; cmin, replaced to cmin.</div>
<div class="line">if pixel value &gt; cmax, replaced to cmax.</div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>**kwargs</strong> : dictionary</p>
<blockquote>
<div><p>Any of Figure__init__() parameters</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Modifies:</th><td class="field-body"><p class="first"><strong>self.array</strong> : numpy array</p>
<p class="last"><strong>self.cmin, self.cmax</strong> : allowed min/max values</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="nansat.Figure.cmapName">
<tt class="descname">cmapName</tt><em class="property"> = 'jet'</em><a class="headerlink" href="#nansat.Figure.cmapName" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="nansat.Figure.cmax">
<tt class="descname">cmax</tt><em class="property"> = [1.0]</em><a class="headerlink" href="#nansat.Figure.cmax" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="nansat.Figure.cmin">
<tt class="descname">cmin</tt><em class="property"> = [0.0]</em><a class="headerlink" href="#nansat.Figure.cmin" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="nansat.Figure.convert_palettesize">
<tt class="descname">convert_palettesize</tt><big>(</big><em>**kwargs</em><big>)</big><a class="headerlink" href="#nansat.Figure.convert_palettesize" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert self.array to palette color size in uint8</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>**kwargs</strong> : dictionary</p>
<blockquote>
<div><p>Any of Figure__init__() parameters</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Modifies:</th><td class="field-body"><p class="first last"><strong>self.array</strong> : numpy array (=&gt;uint8)</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="nansat.Figure.create_legend">
<tt class="descname">create_legend</tt><big>(</big><em>**kwargs</em><big>)</big><a class="headerlink" href="#nansat.Figure.create_legend" title="Permalink to this definition">¶</a></dt>
<dd><p>self.legend is replaced from None to PIL image</p>
<p>PIL image includes colorbar, caption, and titleString.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>**kwargs</strong> : dictionary</p>
<blockquote>
<div><p>Any of Figure__init__() parameters</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Modifies:</th><td class="field-body"><p class="first last"><strong>self.legend</strong> : PIL image</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="nansat.Figure.create_pilImage">
<tt class="descname">create_pilImage</tt><big>(</big><em>**kwargs</em><big>)</big><a class="headerlink" href="#nansat.Figure.create_pilImage" title="Permalink to this definition">¶</a></dt>
<dd><p>self.create_pilImage is replaced from None to PIL image</p>
<div class="line-block">
<div class="line">If three images are given, create a image with RGB mode.</div>
<div class="line-block">
<div class="line">if self.pilImgLegend is not None, it is pasted.</div>
</div>
<div class="line">If one image is given, create a image with P(palette) mode.</div>
<div class="line-block">
<div class="line">if self.pilImgLegend is not None,
self.array is extended before create the pilImag and
then paste pilImgLegend onto it.</div>
</div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>**kwargs</strong> : dictionary</p>
<blockquote>
<div><p>Any of Figure__init__() parameters</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Modifies:</th><td class="field-body"><p class="first"><strong>self.pilImg</strong> : PIL image</p>
<blockquote>
<div><p>PIL image with / without the legend</p>
</div></blockquote>
<p class="last"><strong>self.array</strong> : replace to None</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="nansat.Figure.extensionList">
<tt class="descname">extensionList</tt><em class="property"> = ['png', 'PNG', 'tif', 'TIF', 'bmp', 'BMP', 'jpg', 'JPG', 'jpeg', 'JPEG']</em><a class="headerlink" href="#nansat.Figure.extensionList" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="nansat.Figure.fontRatio">
<tt class="descname">fontRatio</tt><em class="property"> = 1</em><a class="headerlink" href="#nansat.Figure.fontRatio" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="nansat.Figure.fontSize">
<tt class="descname">fontSize</tt><em class="property"> = None</em><a class="headerlink" href="#nansat.Figure.fontSize" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="nansat.Figure.gamma">
<tt class="descname">gamma</tt><em class="property"> = 2.0</em><a class="headerlink" href="#nansat.Figure.gamma" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="nansat.Figure.latGrid">
<tt class="descname">latGrid</tt><em class="property"> = None</em><a class="headerlink" href="#nansat.Figure.latGrid" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="nansat.Figure.latlonLabels">
<tt class="descname">latlonLabels</tt><em class="property"> = 0</em><a class="headerlink" href="#nansat.Figure.latlonLabels" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="nansat.Figure.legend">
<tt class="descname">legend</tt><em class="property"> = False</em><a class="headerlink" href="#nansat.Figure.legend" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="nansat.Figure.logarithm">
<tt class="descname">logarithm</tt><em class="property"> = False</em><a class="headerlink" href="#nansat.Figure.logarithm" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="nansat.Figure.logoFileName">
<tt class="descname">logoFileName</tt><em class="property"> = None</em><a class="headerlink" href="#nansat.Figure.logoFileName" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="nansat.Figure.logoLocation">
<tt class="descname">logoLocation</tt><em class="property"> = [0, 0]</em><a class="headerlink" href="#nansat.Figure.logoLocation" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="nansat.Figure.logoSize">
<tt class="descname">logoSize</tt><em class="property"> = None</em><a class="headerlink" href="#nansat.Figure.logoSize" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="nansat.Figure.lonGrid">
<tt class="descname">lonGrid</tt><em class="property"> = None</em><a class="headerlink" href="#nansat.Figure.lonGrid" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="nansat.Figure.mask_array">
<tt class="descname">mask_array</tt><em class="property"> = None</em><a class="headerlink" href="#nansat.Figure.mask_array" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="nansat.Figure.mask_lut">
<tt class="descname">mask_lut</tt><em class="property"> = None</em><a class="headerlink" href="#nansat.Figure.mask_lut" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="nansat.Figure.nGridLines">
<tt class="descname">nGridLines</tt><em class="property"> = 10</em><a class="headerlink" href="#nansat.Figure.nGridLines" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="nansat.Figure.numOfColor">
<tt class="descname">numOfColor</tt><em class="property"> = 250</em><a class="headerlink" href="#nansat.Figure.numOfColor" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="nansat.Figure.numOfTicks">
<tt class="descname">numOfTicks</tt><em class="property"> = 5</em><a class="headerlink" href="#nansat.Figure.numOfTicks" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="nansat.Figure.palette">
<tt class="descname">palette</tt><em class="property"> = None</em><a class="headerlink" href="#nansat.Figure.palette" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="nansat.Figure.pilImg">
<tt class="descname">pilImg</tt><em class="property"> = None</em><a class="headerlink" href="#nansat.Figure.pilImg" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="nansat.Figure.pilImgLegend">
<tt class="descname">pilImgLegend</tt><em class="property"> = None</em><a class="headerlink" href="#nansat.Figure.pilImgLegend" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="nansat.Figure.process">
<tt class="descname">process</tt><big>(</big><em>**kwargs</em><big>)</big><a class="headerlink" href="#nansat.Figure.process" title="Permalink to this definition">¶</a></dt>
<dd><p>Do all common operations for preparation of a figure for saving</p>
<ol class="arabic simple">
<li>Modify default values of parameters by the provided ones (if any)</li>
<li>Clip to min/max</li>
<li>Apply logarithm if required</li>
<li>Convert data to uint8</li>
<li>Create palette</li>
<li>Apply mask for colouring land, clouds, etc if required</li>
<li>Create legend if required</li>
<li>Create PIL image</li>
<li>Add logo if required</li>
</ol>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>**kwargs</strong> : dictionary</p>
<blockquote>
<div><p>Any of Figure__init__() parameters</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Modifies:</th><td class="field-body"><p class="first"><strong>self.d</strong> : domain</p>
<p><strong>self.array</strong> : np.array</p>
<p><strong>self.palette</strong> : palette</p>
<p><strong>self.pilImgLegend</strong> : pilImgLegend</p>
<p class="last"><strong>self.pilImg</strong> : pilImg</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="nansat.Figure.ratio">
<tt class="descname">ratio</tt><em class="property"> = 1.0</em><a class="headerlink" href="#nansat.Figure.ratio" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="nansat.Figure.save">
<tt class="descname">save</tt><big>(</big><em>fileName</em>, <em>**kwargs</em><big>)</big><a class="headerlink" href="#nansat.Figure.save" title="Permalink to this definition">¶</a></dt>
<dd><p>Save self.pilImg to a physical file</p>
<p>If given extension is JPG, convert the image mode from Palette to RGB</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>fileName</strong> : string</p>
<blockquote>
<div><p>name of outputfile</p>
</div></blockquote>
<p><strong>**kwargs</strong> : dictionary</p>
<blockquote>
<div><p>Any of Figure__init__() parameters</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Modifies:</th><td class="field-body"><p class="first last"><strong>self.pilImg</strong> : None</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="nansat.Figure.subsetArraySize">
<tt class="descname">subsetArraySize</tt><em class="property"> = 100000</em><a class="headerlink" href="#nansat.Figure.subsetArraySize" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="nansat.Figure.titleString">
<tt class="descname">titleString</tt><em class="property"> = ''</em><a class="headerlink" href="#nansat.Figure.titleString" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="nansat.Figure.transparency">
<tt class="descname">transparency</tt><em class="property"> = None</em><a class="headerlink" href="#nansat.Figure.transparency" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="nansat.Nansatmap">
<em class="property">class </em><tt class="descclassname">nansat.</tt><tt class="descname">Nansatmap</tt><big>(</big><em>domain</em>, <em>**kwargs</em><big>)</big><a class="headerlink" href="#nansat.Nansatmap" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">mpl_toolkits.basemap.Basemap</span></tt></p>
<p>Perform opeartions with graphical files: create,
add legend and geolocation_grids, save.</p>
<p>NansatMap instance is created in the Nansat.write_map method.
The methods below are applied consequently in order to get projection,
generate a basemap from array(s), add legend and geolocation grids,
save to a file.</p>
<dl class="attribute">
<dt id="nansat.Nansatmap.DEFAULT_EXTENSION">
<tt class="descname">DEFAULT_EXTENSION</tt><em class="property"> = '.png'</em><a class="headerlink" href="#nansat.Nansatmap.DEFAULT_EXTENSION" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="nansat.Nansatmap.add_colorbar">
<tt class="descname">add_colorbar</tt><big>(</big><em>fontsize=6</em>, <em>**kwargs</em><big>)</big><a class="headerlink" href="#nansat.Nansatmap.add_colorbar" title="Permalink to this definition">¶</a></dt>
<dd><p>Add color bar</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>fontsize</strong> : int</p>
<p><strong>Parameters for matplotlib.pyplot.colorbar</strong></p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Modifies:</th><td class="field-body"><p class="first last"><strong>Adds colorbar to self.fig</strong></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="nansat.Nansatmap.cmap">
<tt class="descname">cmap</tt><em class="property"> = &lt;matplotlib.colors.LinearSegmentedColormap object at 0x03D26B30&gt;</em><a class="headerlink" href="#nansat.Nansatmap.cmap" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="nansat.Nansatmap.colorbar">
<tt class="descname">colorbar</tt><em class="property"> = None</em><a class="headerlink" href="#nansat.Nansatmap.colorbar" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="nansat.Nansatmap.contour">
<tt class="descname">contour</tt><big>(</big><em>data</em>, <em>v=None</em>, <em>smooth=False</em>, <em>mode='gaussian'</em>, <em>label=True</em>, <em>**kwargs</em><big>)</big><a class="headerlink" href="#nansat.Nansatmap.contour" title="Permalink to this definition">¶</a></dt>
<dd><p>Draw lined contour plots</p>
<p>If smooth is True, data is smoothed. Then draw lined contour.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>data</strong> : numpy 2D array</p>
<blockquote>
<div><p>Input data</p>
</div></blockquote>
<p><strong>v</strong> : list with values</p>
<blockquote>
<div><p>draw contour lines at the values specified in sequence v</p>
</div></blockquote>
<p><strong>smooth</strong> : Boolean</p>
<blockquote>
<div><p>Apply smoothing?</p>
</div></blockquote>
<p><strong>mode</strong> : string</p>
<blockquote>
<div><p>&#8216;gaussian&#8217;, &#8216;spline&#8217;, &#8216;fourier&#8217;, &#8216;convolve&#8217;
mname of smoothing algorithm to apply</p>
</div></blockquote>
<p><strong>label</strong> : boolean</p>
<blockquote>
<div><p>Add lables?</p>
</div></blockquote>
<p><strong>**kwargs: dictionary</strong></p>
<blockquote>
<div><div class="line-block">
<div class="line">Optional parameters for Nansatmap.smooth()</div>
<div class="line">Optional parameters for pyplot.contour().</div>
<div class="line">Optional parameters for pyplot.clabel()</div>
</div>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Modifies:</th><td class="field-body"><p class="first"><strong>self.mpl</strong> : list</p>
<blockquote class="last">
<div><p>append QuadContourSet instance</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="nansat.Nansatmap.contourf">
<tt class="descname">contourf</tt><big>(</big><em>data</em>, <em>v=None</em>, <em>smooth=False</em>, <em>mode='gaussian'</em>, <em>**kwargs</em><big>)</big><a class="headerlink" href="#nansat.Nansatmap.contourf" title="Permalink to this definition">¶</a></dt>
<dd><p>Draw filled contour plots</p>
<p>If smooth is True, data is smoothed. Then draw filled contour.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>data</strong> : numpy 2D array</p>
<blockquote>
<div><p>Input data</p>
</div></blockquote>
<p><strong>v</strong> : list with values</p>
<blockquote>
<div><p>draw contour lines at the values specified in sequence v</p>
</div></blockquote>
<p><strong>smooth</strong> : Boolean</p>
<blockquote>
<div><p>Apply smoothing?</p>
</div></blockquote>
<p><strong>mode</strong> : string</p>
<blockquote>
<div><div class="line-block">
<div class="line">mname of smoothing algorithm to apply</div>
<div class="line">e.g.) &#8216;gaussian&#8217;, &#8216;spline&#8217;, &#8216;fourier&#8217;, &#8216;convolve&#8217;</div>
</div>
</div></blockquote>
<p><strong>**kwargs: dictionary</strong></p>
<blockquote>
<div><div class="line-block">
<div class="line">cmap : colormap (e.g. cm.jet)</div>
<div class="line">Optional parameters for Nansatmap.smooth()</div>
<div class="line">Optional parameters for pyplot.contourf().</div>
</div>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Modifies:</th><td class="field-body"><p class="first"><strong>self.mpl</strong> : list</p>
<blockquote class="last">
<div><p>append QuadContourSet instance</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="nansat.Nansatmap.convolve_cval">
<tt class="descname">convolve_cval</tt><em class="property"> = 0.0</em><a class="headerlink" href="#nansat.Nansatmap.convolve_cval" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="nansat.Nansatmap.convolve_mode">
<tt class="descname">convolve_mode</tt><em class="property"> = 'reflect'</em><a class="headerlink" href="#nansat.Nansatmap.convolve_mode" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="nansat.Nansatmap.convolve_origin">
<tt class="descname">convolve_origin</tt><em class="property"> = 0</em><a class="headerlink" href="#nansat.Nansatmap.convolve_origin" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="nansat.Nansatmap.convolve_weightSize">
<tt class="descname">convolve_weightSize</tt><em class="property"> = 7</em><a class="headerlink" href="#nansat.Nansatmap.convolve_weightSize" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="nansat.Nansatmap.convolve_weights">
<tt class="descname">convolve_weights</tt><em class="property"> = None</em><a class="headerlink" href="#nansat.Nansatmap.convolve_weights" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="nansat.Nansatmap.draw_continents">
<tt class="descname">draw_continents</tt><big>(</big><em>**kwargs</em><big>)</big><a class="headerlink" href="#nansat.Nansatmap.draw_continents" title="Permalink to this definition">¶</a></dt>
<dd><p>Draw continents</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>**kwargs</strong> : dictionary</p>
<blockquote class="last">
<div><p>Parameters for basemap.fillcontinents</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="nansat.Nansatmap.drawgrid">
<tt class="descname">drawgrid</tt><big>(</big><em>fontsize=10, lat_num=5, lon_num=5, lat_labels=[True, False, False, False], lon_labels=[False, False, True, False]</em><big>)</big><a class="headerlink" href="#nansat.Nansatmap.drawgrid" title="Permalink to this definition">¶</a></dt>
<dd><p>Draw and label parallels (lat and lon lines) for values (in degrees)</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>fontsize</strong> : int</p>
<p><strong>lat_num</strong> : int</p>
<blockquote>
<div><p>Number of latitude lables</p>
</div></blockquote>
<p><strong>lon_num :</strong></p>
<blockquote>
<div><p>Number of longitude lables</p>
</div></blockquote>
<p><strong>lat_labels</strong> : list of Bool</p>
<blockquote>
<div><p>Location of latitude labels</p>
</div></blockquote>
<p><strong>lon_labels</strong> : list of Bool</p>
<blockquote class="last">
<div><p>Location of longitude labels</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Notes</p>
<p>See also: Basemap.drawparallels(), Basemap.drawmeridians()</p>
</dd></dl>

<dl class="attribute">
<dt id="nansat.Nansatmap.fourier_axis">
<tt class="descname">fourier_axis</tt><em class="property"> = -1</em><a class="headerlink" href="#nansat.Nansatmap.fourier_axis" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="nansat.Nansatmap.fourier_n">
<tt class="descname">fourier_n</tt><em class="property"> = -1</em><a class="headerlink" href="#nansat.Nansatmap.fourier_n" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="nansat.Nansatmap.fourier_sigma">
<tt class="descname">fourier_sigma</tt><em class="property"> = 1.0</em><a class="headerlink" href="#nansat.Nansatmap.fourier_sigma" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="nansat.Nansatmap.gaussian_cval">
<tt class="descname">gaussian_cval</tt><em class="property"> = 0.0</em><a class="headerlink" href="#nansat.Nansatmap.gaussian_cval" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="nansat.Nansatmap.gaussian_mode">
<tt class="descname">gaussian_mode</tt><em class="property"> = 'reflect'</em><a class="headerlink" href="#nansat.Nansatmap.gaussian_mode" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="nansat.Nansatmap.gaussian_order">
<tt class="descname">gaussian_order</tt><em class="property"> = 0</em><a class="headerlink" href="#nansat.Nansatmap.gaussian_order" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="nansat.Nansatmap.gaussian_sigma">
<tt class="descname">gaussian_sigma</tt><em class="property"> = 2.5</em><a class="headerlink" href="#nansat.Nansatmap.gaussian_sigma" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="nansat.Nansatmap.lat">
<tt class="descname">lat</tt><em class="property"> = None</em><a class="headerlink" href="#nansat.Nansatmap.lat" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="nansat.Nansatmap.lon">
<tt class="descname">lon</tt><em class="property"> = None</em><a class="headerlink" href="#nansat.Nansatmap.lon" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="nansat.Nansatmap.mpl">
<tt class="descname">mpl</tt><em class="property"> = []</em><a class="headerlink" href="#nansat.Nansatmap.mpl" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="nansat.Nansatmap.pcolormesh">
<tt class="descname">pcolormesh</tt><big>(</big><em>data</em>, <em>**kwargs</em><big>)</big><a class="headerlink" href="#nansat.Nansatmap.pcolormesh" title="Permalink to this definition">¶</a></dt>
<dd><p>Make a pseudo-color plot over the map</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>data</strong> : numpy 2D array</p>
<blockquote>
<div><p>Input data</p>
</div></blockquote>
<p><strong>**kwargs: dictionary</strong></p>
<blockquote>
<div><p>Parameters for Basemap.pcolormesh (e.g. vmin, vmax)</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Modifies:</th><td class="field-body"><p class="first"><strong>self.mpl</strong> : list</p>
<blockquote class="last">
<div><p>append matplotlib.collections.QuadMesh object</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="nansat.Nansatmap.quiver">
<tt class="descname">quiver</tt><big>(</big><em>dataX</em>, <em>dataY</em>, <em>step=None</em>, <em>quivectors=None</em>, <em>**kwargs</em><big>)</big><a class="headerlink" href="#nansat.Nansatmap.quiver" title="Permalink to this definition">¶</a></dt>
<dd><p>Draw quiver plots</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>dataX</strong> :  numpy array</p>
<blockquote>
<div><p>Input data with X-component</p>
</div></blockquote>
<p><strong>dataY</strong> :  numpy array</p>
<blockquote>
<div><p>Input data with Y-component</p>
</div></blockquote>
<p><strong>step</strong> : int or (int, int)</p>
<blockquote>
<div><p>Skip &lt;step&gt; pixels along both dimentions(alternative to quivectors)</p>
</div></blockquote>
<p><strong>quivectors</strong> : int or (int,int)</p>
<blockquote>
<div><p>Number of vectors along both dimentions</p>
</div></blockquote>
<p><strong>**kwargs: dictionary</strong></p>
<blockquote>
<div><p>Parameters for Basemap.quiver()</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Modifies:</th><td class="field-body"><p class="first"><strong>self.mpl</strong> : list</p>
<blockquote class="last">
<div><p>append matplotlib.quiver.Quiver instance</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="nansat.Nansatmap.save">
<tt class="descname">save</tt><big>(</big><em>fileName</em>, <em>landmask=True</em>, <em>**kwargs</em><big>)</big><a class="headerlink" href="#nansat.Nansatmap.save" title="Permalink to this definition">¶</a></dt>
<dd><p>Draw continents and save</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>fileName</strong> : string</p>
<blockquote>
<div><p>name of outputfile</p>
</div></blockquote>
<p><strong>landmask</strong> : Boolean</p>
<blockquote>
<div><p>Draw landmask?</p>
</div></blockquote>
<p><strong>**kwargs: dictionary</strong></p>
<blockquote class="last">
<div><p>Parameters for basemap.fillcontinents</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="nansat.Nansatmap.smooth">
<tt class="descname">smooth</tt><big>(</big><em>idata</em>, <em>mode</em>, <em>**kwargs</em><big>)</big><a class="headerlink" href="#nansat.Nansatmap.smooth" title="Permalink to this definition">¶</a></dt>
<dd><p>Smooth data for contour() and contourf()</p>
<p>idata is smoothed by convolve, fourier_gaussian, spline or
gaussian (default). If contour_mode is &#8216;convolve&#8217; and weight is None,
the weight matrix is created automatically.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>idata</strong> : numpy 2D array</p>
<blockquote>
<div><p>Input data</p>
</div></blockquote>
<p><strong>mode</strong> : string</p>
<blockquote>
<div><p>&#8216;convolve&#8217;,&#8217;fourier&#8217;,&#8217;spline&#8217; or &#8216;gaussian&#8217;</p>
</div></blockquote>
<p><strong>**kwargs: dictionary</strong></p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><strong>odata</strong> : numpy 2D array</p>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Notes</p>
<p>see also : <a class="reference external" href="http://docs.scipy.org/doc/scipy/reference/ndimage.html">http://docs.scipy.org/doc/scipy/reference/ndimage.html</a></p>
</dd></dl>

<dl class="attribute">
<dt id="nansat.Nansatmap.spline_axis">
<tt class="descname">spline_axis</tt><em class="property"> = -1</em><a class="headerlink" href="#nansat.Nansatmap.spline_axis" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="nansat.Nansatmap.spline_order">
<tt class="descname">spline_order</tt><em class="property"> = 3</em><a class="headerlink" href="#nansat.Nansatmap.spline_order" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="nansat.Nansatmap.x">
<tt class="descname">x</tt><em class="property"> = None</em><a class="headerlink" href="#nansat.Nansatmap.x" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="nansat.Nansatmap.y">
<tt class="descname">y</tt><em class="property"> = None</em><a class="headerlink" href="#nansat.Nansatmap.y" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="nansat.Mosaic">
<em class="property">class </em><tt class="descclassname">nansat.</tt><tt class="descname">Mosaic</tt><big>(</big><em>fileName=''</em>, <em>mapperName=''</em>, <em>domain=None</em>, <em>array=None</em>, <em>parameters=None</em>, <em>logLevel=30</em>, <em>**kwargs</em><big>)</big><a class="headerlink" href="#nansat.Mosaic" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="nansat.nansat.html#nansat.nansat.Nansat" title="nansat.nansat.Nansat"><tt class="xref py py-class docutils literal"><span class="pre">nansat.nansat.Nansat</span></tt></a></p>
<p>Container for mosaicing methods</p>
<p>Mosaic inherits everything from Nansat</p>
<dl class="method">
<dt id="nansat.Mosaic.average">
<tt class="descname">average</tt><big>(</big><em>files=[], bands=[1], doReproject=True, maskName='mask', threads=1, **kwargs</em><big>)</big><a class="headerlink" href="#nansat.Mosaic.average" title="Permalink to this definition">¶</a></dt>
<dd><p>Memory-friendly, multithreaded mosaicing(averaging) of input files</p>
<div class="line-block">
<div class="line">Convert all input files into Nansat objects, reproject onto the</div>
<div class="line">Domain of the current object, get bands, from each object,
calculate average and STD, add averaged bands (and STD) to the current
object.</div>
</div>
<div class="line-block">
<div class="line">average() tries to get band &#8216;mask&#8217; from the input files. The mask
should have the following coding:</div>
<div class="line-block">
<div class="line">0 : nodata</div>
<div class="line">1 : clouds</div>
<div class="line">2 : land</div>
<div class="line">64 : valid pixel</div>
</div>
<div class="line">If it gets that band (which can be provided by some mappers or Nansat
childs, e.g.  ModisL2Image) it uses it to select averagable pixels
(i.e. where mask == 64).</div>
<div class="line">If it cannot locate the band &#8216;mask&#8217; is assumes that all pixels are
averagebale except for thouse out of swath after reprojection.</div>
</div>
<div class="line-block">
<div class="line">average() adds bands to the object, so it works only with empty, or
non-projected objects</div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>files</strong> : list</p>
<blockquote>
<div><p>list of input files</p>
</div></blockquote>
<p><strong>bands</strong> : list</p>
<blockquote>
<div><p>list of names/band_numbers to be processed</p>
</div></blockquote>
<p><strong>doReproject</strong> : boolean, [True]</p>
<blockquote>
<div><p>reproject input files?</p>
</div></blockquote>
<p><strong>maskName</strong> : str, [&#8216;mask&#8217;]</p>
<blockquote>
<div><p>name of the mask in input files</p>
</div></blockquote>
<p><strong>nClass</strong> : child of Nansat, [Nansat]</p>
<blockquote>
<div><p>This class is used to read input files</p>
</div></blockquote>
<p><strong>threads</strong> : int</p>
<blockquote>
<div><p>number of parallel processes to use</p>
</div></blockquote>
<p><strong>eResampleAlg</strong> : int, [0]</p>
<blockquote>
<div><p>agorithm for reprojection, see Nansat.reproject()</p>
</div></blockquote>
<p><strong>period</strong> : [datetime0, datetime1]</p>
<blockquote class="last">
<div><p>Start and stop datetime objects from pyhon datetime.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="nansat.Mosaic.bandIDs">
<tt class="descname">bandIDs</tt><em class="property"> = [1]</em><a class="headerlink" href="#nansat.Mosaic.bandIDs" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="nansat.Mosaic.doReproject">
<tt class="descname">doReproject</tt><em class="property"> = True</em><a class="headerlink" href="#nansat.Mosaic.doReproject" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="nansat.Mosaic.eResampleAlg">
<tt class="descname">eResampleAlg</tt><em class="property"> = 0</em><a class="headerlink" href="#nansat.Mosaic.eResampleAlg" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="nansat.Mosaic.latest">
<tt class="descname">latest</tt><big>(</big><em>files=[], bands=[1], doReproject=True, maskName='mask', **kwargs</em><big>)</big><a class="headerlink" href="#nansat.Mosaic.latest" title="Permalink to this definition">¶</a></dt>
<dd><p>Mosaic by adding the latest image on top without averaging</p>
<div class="line-block">
<div class="line">Uses Nansat.get_time() to estimate time of each input file;</div>
<div class="line">Sorts images by aquisition time;</div>
<div class="line">Creates date_index band - with mask of coverage of each frame;</div>
<div class="line">Uses date_index to fill bands of self only with the latest data</div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>files</strong> : list</p>
<blockquote>
<div><p>list of input files</p>
</div></blockquote>
<p><strong>bands</strong> : list</p>
<blockquote>
<div><p>list of names/band_numbers to be processed</p>
</div></blockquote>
<p><strong>doReproject</strong> : boolean, [True]</p>
<blockquote>
<div><p>reproject input files?</p>
</div></blockquote>
<p><strong>maskName</strong> : str, [&#8216;mask&#8217;]</p>
<blockquote>
<div><p>name of the mask in input files</p>
</div></blockquote>
<p><strong>nClass</strong> : child of Nansat, [Nansat]</p>
<blockquote>
<div><p>This class is used to read input files</p>
</div></blockquote>
<p><strong>eResampleAlg</strong> : int, [0]</p>
<blockquote>
<div><p>agorithm for reprojection, see Nansat.reproject()</p>
</div></blockquote>
<p><strong>period</strong> : [datetime0, datetime1]</p>
<blockquote class="last">
<div><p>Start and stop datetime objects from pyhon datetime.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="nansat.Mosaic.mapper">
<tt class="descname">mapper</tt><em class="property"> = 'mosaic'</em><a class="headerlink" href="#nansat.Mosaic.mapper" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="nansat.Mosaic.maskName">
<tt class="descname">maskName</tt><em class="property"> = 'mask'</em><a class="headerlink" href="#nansat.Mosaic.maskName" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="nansat.Mosaic.median">
<tt class="descname">median</tt><big>(</big><em>files=[], bands=[1], doReproject=True, maskName='mask', **kwargs</em><big>)</big><a class="headerlink" href="#nansat.Mosaic.median" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate median of input bands</p>
<p>Memory and CPU greedy method. Generates 3D cube from bands of
all input images and calculates median. Adds median bands to self</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>files</strong> : list</p>
<blockquote>
<div><p>list of input files</p>
</div></blockquote>
<p><strong>bands</strong> : list</p>
<blockquote>
<div><p>list of names/band_numbers to be processed</p>
</div></blockquote>
<p><strong>doReproject</strong> : boolean, [True]</p>
<blockquote>
<div><p>reproject input files?</p>
</div></blockquote>
<p><strong>maskName</strong> : str, [&#8216;mask&#8217;]</p>
<blockquote>
<div><p>name of the mask in input files</p>
</div></blockquote>
<p><strong>nClass</strong> : child of Nansat, [Nansat]</p>
<blockquote>
<div><p>This class is used to read input files</p>
</div></blockquote>
<p><strong>eResampleAlg</strong> : int, [0]</p>
<blockquote>
<div><p>agorithm for reprojection, see Nansat.reproject()</p>
</div></blockquote>
<p><strong>period</strong> : [datetime0, datetime1]</p>
<blockquote class="last">
<div><p>Start and stop datetime objects from pyhon datetime.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="nansat.Mosaic.nClass">
<tt class="descname">nClass</tt><a class="headerlink" href="#nansat.Mosaic.nClass" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <a class="reference internal" href="#nansat.Nansat" title="nansat.Nansat"><tt class="xref py py-class docutils literal"><span class="pre">Nansat</span></tt></a></p>
</dd></dl>

<dl class="attribute">
<dt id="nansat.Mosaic.period">
<tt class="descname">period</tt><em class="property"> = (None, None)</em><a class="headerlink" href="#nansat.Mosaic.period" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="nansat.Mosaic.threads">
<tt class="descname">threads</tt><em class="property"> = 1</em><a class="headerlink" href="#nansat.Mosaic.threads" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
</div>


          </div>
        </div>
          </div>
        </div>
      </div>
    </div>

    <div class="container container-navbar-bottom">
      <div class="spc-navbar">
        
      </div>
    </div>

    <div class="container">
    <div class="footer">
    <div class="row-fluid">
    <ul class="inline pull-left">
      <li>
        &copy; Copyright 2013, Nansen Center.
      </li>
      <li>
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.2.3.
      </li>
    </ul>
    </div>
    </div>
    </div>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-43252602-1', 'nansencenter.github.io');
  ga('send', 'pageview');

</script>

  </body>
</html>